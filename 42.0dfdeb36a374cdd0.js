"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[42],{4042:(Qt,N,v)=>{v.r(N),v.d(N,{PlayedMatchesSummaryComponent:()=>Jt});var D=v(467),e=v(4438),B=v(177),J=v(6375),Q=v(1626),U=v(1097);let z=(()=>{class o{constructor(){this.http=(0,e.WQX)(Q.Qq),this.baseUrl=`${(0,U.G)()}/config`}getFlags(){return this.http.get(`${this.baseUrl}/flags`)}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var K=v(2983),H=v(9417),q=v(9679),G=v(1413),A=v(6977),O=v(9431),Y=v(3294),L=v(5558),X=v(7673),Z=v(5925),ee=v(5220),te=v(5897);const j=()=>[];function ne(o,i){if(1&o&&(e.qex(0),e.EFF(1),e.nI1(2,"number"),e.bVm()),2&o){const t=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,t.total))}}function ae(o,i){1&o&&e.EFF(0,"Loading\u2026")}function oe(o,i){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG().$implicit;e.R7$(),e.SpI(" (",t.country,")")}}function se(o,i){if(1&o){const t=e.RV6();e.j41(0,"li",36),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.selectTeam(a))}),e.EFF(1),e.DNE(2,oe,2,1,"span",37),e.k0s()}if(2&o){const t=i.$implicit;e.R7$(),e.JRh(t.name),e.R7$(),e.Y8G("ngIf",t.country)}}function le(o,i){if(1&o&&(e.j41(0,"ul",34),e.DNE(1,se,3,2,"li",35),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.suggestions)}}function ie(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"Keep typing\u2026"),e.k0s())}function re(o,i){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.JRh(t.teamCount)}}function de(o,i){1&o&&e.EFF(0,"\u2026")}function ce(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()(),e.j41(5,"div"),e.EFF(6),e.j41(7,"span",51),e.EFF(8),e.k0s()(),e.j41(9,"div"),e.EFF(10),e.j41(11,"span",51),e.EFF(12),e.k0s()()()),2&o){let t,n,a;const s=e.XpG(2);e.AVh("loading",s.loadingBreakdown),e.R7$(2),e.SpI("Wins: ",null!==(t=null==s.breakdown?null:s.breakdown.wins)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",s.pct(null==s.breakdown?null:s.breakdown.wins),"%"),e.R7$(2),e.SpI("Draws: ",null!==(n=null==s.breakdown?null:s.breakdown.draws)&&void 0!==n?n:0," "),e.R7$(2),e.SpI("",s.pct(null==s.breakdown?null:s.breakdown.draws),"%"),e.R7$(2),e.SpI("Losses: ",null!==(a=null==s.breakdown?null:s.breakdown.losses)&&void 0!==a?a:0," "),e.R7$(2),e.SpI("",s.pct(null==s.breakdown?null:s.breakdown.losses),"%")}}function he(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingBreakdown),e.R7$(2),e.SpI("BTTS: ",null!==(t=null==n.breakdown?null:n.breakdown.btts)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct(null==n.breakdown?null:n.breakdown.btts),"%")}}function me(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingBreakdown),e.R7$(2),e.SpI("Over 1.5: ",null!==(t=null==n.breakdown?null:n.breakdown.over15)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct(null==n.breakdown?null:n.breakdown.over15),"%")}}function ue(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingBreakdown),e.R7$(2),e.SpI("Over 2.5: ",null!==(t=null==n.breakdown?null:n.breakdown.over25)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct(null==n.breakdown?null:n.breakdown.over25),"%")}}function pe(o,i){if(1&o&&(e.j41(0,"span",53),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" \u2022 Longest: ",t.formatLongestStreak(null==t.breakdown?null:t.breakdown.longestStreakType,null==t.breakdown?null:t.breakdown.longestStreakCount),"")}}function ge(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.DNE(3,pe,2,1,"span",52),e.k0s()()),2&o){const t=e.XpG(2);e.AVh("loading",t.loadingBreakdown),e.R7$(2),e.SpI("Current streak: ",t.formatStreak(null==t.breakdown?null:t.breakdown.currentStreakType,null==t.breakdown?null:t.breakdown.currentStreakCount)," "),e.R7$(),e.Y8G("ngIf",(null==t.breakdown?null:t.breakdown.longestStreakCount)&&(null==t.breakdown?null:t.breakdown.longestStreakType))}}function fe(o,i){1&o&&e.EFF(0,"Loading\u2026")}function ye(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"div",41),e.EFF(3),e.k0s(),e.j41(4,"button",42),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.clearSelection())}),e.EFF(5,"Clear"),e.k0s()(),e.j41(6,"div",19),e.EFF(7,"Team-wide summary based on all played matches recorded in Chambuavismart."),e.k0s(),e.j41(8,"div",43)(9,"div",44),e.EFF(10,"Matches involved (from Fixtures Analysis):"),e.k0s(),e.j41(11,"div",45),e.DNE(12,re,2,1,"ng-container",21)(13,de,1,0,"ng-template",null,1,e.C5r),e.k0s()(),e.j41(15,"div",46)(16,"div",47),e.EFF(17,"Results Breakdown (all matches played)"),e.k0s(),e.DNE(18,ce,13,8,"div",48)(19,he,5,4,"div",49)(20,me,5,4,"div",49)(21,ue,5,4,"div",49)(22,ge,4,4,"div",49)(23,fe,1,0,"ng-template",null,2,e.C5r),e.k0s()()}if(2&o){const t=e.sdS(14),n=e.sdS(24),a=e.XpG();e.R7$(3),e.JRh(a.selectedTeam.name),e.R7$(8),e.AVh("loading",a.loadingTeamCount),e.R7$(),e.Y8G("ngIf",!a.loadingTeamCount)("ngIfElse",t),e.R7$(6),e.Y8G("ngIf",!a.loadingBreakdown)("ngIfElse",n),e.R7$(),e.Y8G("ngIf",!a.loadingBreakdown),e.R7$(),e.Y8G("ngIf",!a.loadingBreakdown),e.R7$(),e.Y8G("ngIf",!a.loadingBreakdown),e.R7$(),e.Y8G("ngIf",!a.loadingBreakdown)}}function _e(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"Teams not found in this league. Try another spelling or league."),e.k0s())}function we(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"No matches in this season."),e.k0s())}function ke(o,i){if(1&o){const t=e.RV6();e.j41(0,"li")(1,"div",55),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.runHeadToHeadSearch(a.teamA,a.teamB))}),e.EFF(2),e.k0s(),e.j41(3,"div",55),e.bIt("click",function(){const a=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.runHeadToHeadSearch(a.teamB,a.teamA))}),e.EFF(4),e.k0s(),e.DNE(5,_e,2,0,"div",26)(6,we,2,0,"div",26),e.k0s()}if(2&o){const t=i.$implicit,n=e.XpG(2);e.R7$(2),e.Lme("",t.teamA," vs ",t.teamB,""),e.R7$(2),e.Lme("",t.teamB," vs ",t.teamA,""),e.R7$(),e.Y8G("ngIf",n.showTeamHint),e.R7$(),e.Y8G("ngIf",n.showDataHint)}}function ve(o,i){if(1&o&&(e.j41(0,"ul",34),e.DNE(1,ke,7,6,"li",54),e.k0s()),2&o){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.h2hSuggestions)}}function Fe(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"Keep typing\u2026"),e.k0s())}function Se(o,i){1&o&&(e.j41(0,"div",56),e.EFF(1," Color legend: Green = W longest-ever, Orange = D longest-ever, Red = L longest-ever. Current streaks are shown for reference only. "),e.k0s())}function be(o,i){if(1&o&&(e.j41(0,"div",38),e.EFF(1),e.j41(2,"span",53),e.EFF(3),e.nI1(4,"uppercase"),e.nI1(5,"uppercase"),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" ",t.isSameOverallLongest()?"Same type of longest-ever streak matchup":"Different type of longest-ever streak matchup"," "),e.R7$(2),e.Lme(" \u2014 ",e.bMT(4,3,(null==t.homeBreakdown?null:t.homeBreakdown.longestStreakType)||"?")," vs ",e.bMT(5,5,(null==t.awayBreakdown?null:t.awayBreakdown.longestStreakType)||"?"),"")}}function Ce(o,i){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.JRh(t.homeCount)}}function Re(o,i){1&o&&e.EFF(0,"\u2026")}function xe(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",60),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()(),e.j41(5,"div",60),e.EFF(6),e.j41(7,"span",51),e.EFF(8),e.k0s()(),e.j41(9,"div",60),e.EFF(10),e.j41(11,"span",51),e.EFF(12),e.k0s()()()),2&o){let t,n,a;const s=e.XpG(2);e.AVh("loading",s.loadingHomeBreakdown),e.R7$(),e.Y8G("ngClass",s.h2hClass("wins")),e.R7$(),e.SpI("Wins: ",null!==(t=null==s.homeBreakdown?null:s.homeBreakdown.wins)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",s.pct2(null==s.homeBreakdown?null:s.homeBreakdown.wins,null==s.homeBreakdown?null:s.homeBreakdown.total),"%"),e.R7$(),e.Y8G("ngClass",s.h2hClass("draws")),e.R7$(),e.SpI("Draws: ",null!==(n=null==s.homeBreakdown?null:s.homeBreakdown.draws)&&void 0!==n?n:0," "),e.R7$(2),e.SpI("",s.pct2(null==s.homeBreakdown?null:s.homeBreakdown.draws,null==s.homeBreakdown?null:s.homeBreakdown.total),"%"),e.R7$(),e.Y8G("ngClass",s.h2hClass("losses")),e.R7$(),e.SpI("Losses: ",null!==(a=null==s.homeBreakdown?null:s.homeBreakdown.losses)&&void 0!==a?a:0," "),e.R7$(2),e.SpI("",s.pct2(null==s.homeBreakdown?null:s.homeBreakdown.losses,null==s.homeBreakdown?null:s.homeBreakdown.total),"%")}}function Ie(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingHomeBreakdown),e.R7$(2),e.SpI("BTTS: ",null!==(t=null==n.homeBreakdown?null:n.homeBreakdown.btts)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct2(null==n.homeBreakdown?null:n.homeBreakdown.btts,null==n.homeBreakdown?null:n.homeBreakdown.total),"%")}}function Te(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingHomeBreakdown),e.R7$(2),e.SpI("Over 1.5: ",null!==(t=null==n.homeBreakdown?null:n.homeBreakdown.over15)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct2(null==n.homeBreakdown?null:n.homeBreakdown.over15,null==n.homeBreakdown?null:n.homeBreakdown.total),"%")}}function Ee(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingHomeBreakdown),e.R7$(2),e.SpI("Over 2.5: ",null!==(t=null==n.homeBreakdown?null:n.homeBreakdown.over25)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct2(null==n.homeBreakdown?null:n.homeBreakdown.over25,null==n.homeBreakdown?null:n.homeBreakdown.total),"%")}}function Me(o,i){if(1&o&&(e.j41(0,"span",53),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" \u2022 Longest: ",t.formatLongestStreak(null==t.homeBreakdown?null:t.homeBreakdown.longestStreakType,null==t.homeBreakdown?null:t.homeBreakdown.longestStreakCount),"")}}function $e(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.DNE(3,Me,2,1,"span",52),e.k0s()()),2&o){const t=e.XpG(2);e.AVh("loading",t.loadingHomeBreakdown),e.R7$(2),e.SpI("Current streak: ",t.formatStreak(null==t.homeBreakdown?null:t.homeBreakdown.currentStreakType,null==t.homeBreakdown?null:t.homeBreakdown.currentStreakCount)," "),e.R7$(),e.Y8G("ngIf",(null==t.homeBreakdown?null:t.homeBreakdown.longestStreakCount)&&(null==t.homeBreakdown?null:t.homeBreakdown.longestStreakType))}}function Pe(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",60),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingHomeBreakdown),e.R7$(),e.Y8G("ngClass",n.h2hClass("btts")),e.R7$(),e.SpI("BTTS: ",null!==(t=null==n.homeBreakdown?null:n.homeBreakdown.btts)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct2(null==n.homeBreakdown?null:n.homeBreakdown.btts,null==n.homeBreakdown?null:n.homeBreakdown.total),"%")}}function Be(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",60),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingHomeBreakdown),e.R7$(),e.Y8G("ngClass",n.h2hClass("over15")),e.R7$(),e.SpI("Over 1.5: ",null!==(t=null==n.homeBreakdown?null:n.homeBreakdown.over15)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct2(null==n.homeBreakdown?null:n.homeBreakdown.over15,null==n.homeBreakdown?null:n.homeBreakdown.total),"%")}}function Ae(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",60),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingHomeBreakdown),e.R7$(),e.Y8G("ngClass",n.h2hClass("over25")),e.R7$(),e.SpI("Over 2.5: ",null!==(t=null==n.homeBreakdown?null:n.homeBreakdown.over25)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct2(null==n.homeBreakdown?null:n.homeBreakdown.over25,null==n.homeBreakdown?null:n.homeBreakdown.total),"%")}}function He(o,i){1&o&&e.EFF(0,"Loading\u2026")}function je(o,i){if(1&o&&(e.qex(0),e.EFF(1),e.bVm()),2&o){const t=e.XpG(2);e.R7$(),e.JRh(t.awayCount)}}function Ge(o,i){1&o&&e.EFF(0,"\u2026")}function Ne(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",60),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()(),e.j41(5,"div",60),e.EFF(6),e.j41(7,"span",51),e.EFF(8),e.k0s()(),e.j41(9,"div",60),e.EFF(10),e.j41(11,"span",51),e.EFF(12),e.k0s()()()),2&o){let t,n,a;const s=e.XpG(2);e.AVh("loading",s.loadingAwayBreakdown),e.R7$(),e.Y8G("ngClass",s.h2hClass("wins",!1)),e.R7$(),e.SpI("Wins: ",null!==(t=null==s.awayBreakdown?null:s.awayBreakdown.wins)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",s.pct2(null==s.awayBreakdown?null:s.awayBreakdown.wins,null==s.awayBreakdown?null:s.awayBreakdown.total),"%"),e.R7$(),e.Y8G("ngClass",s.h2hClass("draws",!1)),e.R7$(),e.SpI("Draws: ",null!==(n=null==s.awayBreakdown?null:s.awayBreakdown.draws)&&void 0!==n?n:0," "),e.R7$(2),e.SpI("",s.pct2(null==s.awayBreakdown?null:s.awayBreakdown.draws,null==s.awayBreakdown?null:s.awayBreakdown.total),"%"),e.R7$(),e.Y8G("ngClass",s.h2hClass("losses",!1)),e.R7$(),e.SpI("Losses: ",null!==(a=null==s.awayBreakdown?null:s.awayBreakdown.losses)&&void 0!==a?a:0," "),e.R7$(2),e.SpI("",s.pct2(null==s.awayBreakdown?null:s.awayBreakdown.losses,null==s.awayBreakdown?null:s.awayBreakdown.total),"%")}}function De(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",60),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingAwayBreakdown),e.R7$(),e.Y8G("ngClass",n.h2hClass("btts",!1)),e.R7$(),e.SpI("BTTS: ",null!==(t=null==n.awayBreakdown?null:n.awayBreakdown.btts)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct2(null==n.awayBreakdown?null:n.awayBreakdown.btts,null==n.awayBreakdown?null:n.awayBreakdown.total),"%")}}function Oe(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",60),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingAwayBreakdown),e.R7$(),e.Y8G("ngClass",n.h2hClass("over15",!1)),e.R7$(),e.SpI("Over 1.5: ",null!==(t=null==n.awayBreakdown?null:n.awayBreakdown.over15)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct2(null==n.awayBreakdown?null:n.awayBreakdown.over15,null==n.awayBreakdown?null:n.awayBreakdown.total),"%")}}function Ye(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",60),e.EFF(2),e.j41(3,"span",51),e.EFF(4),e.k0s()()()),2&o){let t;const n=e.XpG(2);e.AVh("loading",n.loadingAwayBreakdown),e.R7$(),e.Y8G("ngClass",n.h2hClass("over25",!1)),e.R7$(),e.SpI("Over 2.5: ",null!==(t=null==n.awayBreakdown?null:n.awayBreakdown.over25)&&void 0!==t?t:0," "),e.R7$(2),e.SpI("",n.pct2(null==n.awayBreakdown?null:n.awayBreakdown.over25,null==n.awayBreakdown?null:n.awayBreakdown.total),"%")}}function Le(o,i){if(1&o&&(e.j41(0,"span",53),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI(" \u2022 Longest: ",t.formatLongestStreak(null==t.awayBreakdown?null:t.awayBreakdown.longestStreakType,null==t.awayBreakdown?null:t.awayBreakdown.longestStreakCount),"")}}function Xe(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div"),e.EFF(2),e.DNE(3,Le,2,1,"span",52),e.k0s()()),2&o){const t=e.XpG(2);e.AVh("loading",t.loadingAwayBreakdown),e.R7$(2),e.SpI("Current streak: ",t.formatStreak(null==t.awayBreakdown?null:t.awayBreakdown.currentStreakType,null==t.awayBreakdown?null:t.awayBreakdown.currentStreakCount)," "),e.R7$(),e.Y8G("ngIf",(null==t.awayBreakdown?null:t.awayBreakdown.longestStreakCount)&&(null==t.awayBreakdown?null:t.awayBreakdown.longestStreakType))}}function We(o,i){1&o&&e.EFF(0,"Loading\u2026")}function Ve(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",57)(1,"div",58)(2,"div",40)(3,"div",59),e.EFF(4),e.k0s(),e.j41(5,"button",42),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.clearH2H())}),e.EFF(6,"Clear H2H"),e.k0s()(),e.j41(7,"div",19),e.EFF(8),e.k0s(),e.DNE(9,be,6,7,"div",26),e.j41(10,"div",43)(11,"div",44),e.EFF(12,"Matches involved:"),e.k0s(),e.j41(13,"div",45),e.DNE(14,Ce,2,1,"ng-container",21)(15,Re,1,0,"ng-template",null,3,e.C5r),e.k0s()(),e.j41(17,"div",46)(18,"div",47),e.EFF(19,"Results Breakdown"),e.k0s(),e.j41(20,"div",19),e.EFF(21,"Win/Draw/Loss share across all played matches. BTTS counts games where both teams scored; Over 2.5 counts games with 3 or more total goals."),e.k0s(),e.DNE(22,xe,13,11,"div",48)(23,Ie,5,4,"div",49)(24,Te,5,4,"div",49)(25,Ee,5,4,"div",49)(26,$e,4,4,"div",49)(27,Pe,5,5,"div",49)(28,Be,5,5,"div",49)(29,Ae,5,5,"div",49)(30,He,1,0,"ng-template",null,4,e.C5r),e.k0s()(),e.j41(32,"div",58)(33,"div",40)(34,"div",59),e.EFF(35),e.k0s(),e.j41(36,"button",42),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.clearH2H())}),e.EFF(37,"Clear H2H"),e.k0s()(),e.j41(38,"div",43)(39,"div",44),e.EFF(40,"Matches involved:"),e.k0s(),e.j41(41,"div",45),e.DNE(42,je,2,1,"ng-container",21)(43,Ge,1,0,"ng-template",null,5,e.C5r),e.k0s()(),e.j41(45,"div",46)(46,"div",47),e.EFF(47,"Results Breakdown"),e.k0s(),e.j41(48,"div",19),e.EFF(49,"Win/Draw/Loss share across all played matches. BTTS counts games where both teams scored; Over 2.5 counts games with 3 or more total goals."),e.k0s(),e.DNE(50,Ne,13,11,"div",48)(51,De,5,5,"div",49)(52,Oe,5,5,"div",49)(53,Ye,5,5,"div",49)(54,Xe,4,4,"div",49)(55,We,1,0,"ng-template",null,6,e.C5r),e.k0s()()()}if(2&o){const t=e.sdS(16),n=e.sdS(31),a=e.sdS(44),s=e.sdS(56),l=e.XpG();e.R7$(),e.Y8G("ngStyle",l.profileHighlightStyle(!0)),e.R7$(2),e.Y8G("ngStyle",l.teamPillStyle(!0)),e.R7$(),e.JRh(l.h2hHome),e.R7$(4),e.SpI("Summary of all played matches for ",l.h2hHome," across Chambuavismart (all seasons and leagues). These figures are not limited to this H2H pairing."),e.R7$(),e.Y8G("ngIf",l.hasBothLongestTypes()),e.R7$(4),e.AVh("loading",l.loadingHomeCount),e.R7$(),e.Y8G("ngIf",!l.loadingHomeCount)("ngIfElse",t),e.R7$(8),e.Y8G("ngIf",!l.loadingHomeBreakdown)("ngIfElse",n),e.R7$(),e.Y8G("ngIf",!l.loadingHomeBreakdown),e.R7$(),e.Y8G("ngIf",!l.loadingHomeBreakdown),e.R7$(),e.Y8G("ngIf",!l.loadingHomeBreakdown),e.R7$(),e.Y8G("ngIf",!l.loadingHomeBreakdown),e.R7$(),e.Y8G("ngIf",!l.loadingHomeBreakdown),e.R7$(),e.Y8G("ngIf",!l.loadingHomeBreakdown),e.R7$(),e.Y8G("ngIf",!l.loadingHomeBreakdown),e.R7$(3),e.Y8G("ngStyle",l.profileHighlightStyle(!1)),e.R7$(2),e.Y8G("ngStyle",l.teamPillStyle(!1)),e.R7$(),e.JRh(l.h2hAway),e.R7$(6),e.AVh("loading",l.loadingAwayCount),e.R7$(),e.Y8G("ngIf",!l.loadingAwayCount)("ngIfElse",a),e.R7$(8),e.Y8G("ngIf",!l.loadingAwayBreakdown)("ngIfElse",s),e.R7$(),e.Y8G("ngIf",!l.loadingAwayBreakdown),e.R7$(),e.Y8G("ngIf",!l.loadingAwayBreakdown),e.R7$(),e.Y8G("ngIf",!l.loadingAwayBreakdown),e.R7$(),e.Y8G("ngIf",!l.loadingAwayBreakdown)}}function Je(o,i){if(1&o&&(e.j41(0,"div",61)(1,"div",62),e.EFF(2,"Insights"),e.k0s(),e.j41(3,"div",19),e.EFF(4,"Quick narrative summary of key H2H signals including goal differential, current streaks, and trends."),e.k0s(),e.j41(5,"div",63),e.EFF(6),e.k0s()()),2&o){const t=e.XpG();e.R7$(6),e.JRh(t.buildInsightsText())}}function Qe(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"Insufficient data: fewer than 3 valid H2H matches"),e.k0s())}function Ue(o,i){if(1&o&&(e.j41(0,"div",17)(1,"div",18),e.EFF(2),e.k0s(),e.j41(3,"div",19),e.EFF(4),e.k0s(),e.j41(5,"div",20)(6,"span",64),e.EFF(7),e.k0s()(),e.j41(8,"div",65)(9,"div"),e.EFF(10,"Average GD: "),e.j41(11,"strong"),e.EFF(12),e.k0s()(),e.DNE(13,Qe,2,0,"div",26),e.k0s()()),2&o){const t=e.XpG();e.R7$(2),e.SpI("H2H Goal Differential (",t.h2hHome," perspective)"),e.R7$(2),e.SpI("Aggregate and average goal difference across valid head-to-head matches, viewed from ",t.h2hHome,"\u2019s perspective."),e.R7$(),e.AVh("loading",!1),e.R7$(2),e.JRh(t.formatSigned(t.gdAggregate)),e.R7$(5),e.JRh(t.formatAvg(t.gdAverage)),e.R7$(),e.Y8G("ngIf",t.gdInsufficient)}}function ze(o,i){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI("(",t.homeSeasonResolved,")")}}function Ke(o,i){if(1&o&&(e.j41(0,"span",38),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" \u2014 ",t.homeMatchesAvailableText,"")}}function qe(o,i){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.E5c("Recent form for ",t.h2hHome," \u2014 last up to 5 played matches from ",t.homeSourceLeague||"all competitions"," (fallback due to limited data in ",t.homeSeasonResolved||"this competition","). Points use W=3, D=1, L=0.")}}function Ze(o,i){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.Lme("Recent form for ",t.h2hHome," \u2014 last up to 5 played matches in ",t.homeSeasonResolved||"this competition",". Points use W=3, D=1, L=0.")}}function et(o,i){1&o&&e.nrm(0,"span")}function tt(o,i){if(1&o&&(e.qex(0),e.j41(1,"span",60),e.EFF(2),e.k0s(),e.DNE(3,et,1,0,"span",37),e.bVm()),2&o){const t=i.$implicit,n=i.index,a=e.XpG(3);e.R7$(),e.Y8G("ngClass",a.letterClass(t)),e.R7$(),e.JRh(t),e.R7$(),e.Y8G("ngIf",n<((null==a.homeForm||null==a.homeForm.recentResults?null:a.homeForm.recentResults.length)||0)-1)}}function nt(o,i){if(1&o&&e.nrm(0,"div",75),2&o){const t=i.$implicit,n=e.XpG(4);e.xc7("height",n.barHeight(t)),e.Y8G("title",t.toFixed(1))}}function at(o,i){if(1&o&&(e.j41(0,"div",73),e.DNE(1,nt,1,3,"div",74),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",null==t.homeForm?null:t.homeForm.ppgSeries)}}function ot(o,i){if(1&o&&(e.j41(0,"div",76),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI("PPG Trend: ",t.formatPpgTrend((null==t.homeForm?null:t.homeForm.ppgSeries)||e.lJ4(1,j)),"")}}function st(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",69)(2,"span",70),e.DNE(3,tt,4,3,"ng-container",54),e.k0s()(),e.DNE(4,at,2,1,"div",71)(5,ot,2,2,"div",72),e.k0s()),2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",(null==t.homeForm?null:t.homeForm.recentResults)||e.lJ4(3,j)),e.R7$(),e.Y8G("ngIf",null==t.homeForm||null==t.homeForm.ppgSeries?null:t.homeForm.ppgSeries.length),e.R7$(),e.Y8G("ngIf",null==t.homeForm||null==t.homeForm.ppgSeries?null:t.homeForm.ppgSeries.length)}}function lt(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"Loading\u2026"),e.k0s())}function it(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"No recent matches found"),e.k0s())}function rt(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",77),e.EFF(2,"Streak: "),e.j41(3,"strong"),e.EFF(4),e.k0s()(),e.j41(5,"div",78),e.EFF(6,"Win rate: "),e.j41(7,"strong"),e.EFF(8),e.k0s()(),e.j41(9,"div",79),e.EFF(10,"Points: "),e.j41(11,"strong"),e.EFF(12),e.k0s()()()),2&o){let t,n;const a=e.XpG(2);e.R7$(4),e.JRh(a.formatStreak(null==a.homeForm?null:a.homeForm.currentStreak)),e.R7$(4),e.SpI("",null!==(t=null==a.homeForm?null:a.homeForm.winRate)&&void 0!==t?t:0,"%"),e.R7$(4),e.JRh(null!==(n=null==a.homeForm?null:a.homeForm.pointsEarned)&&void 0!==n?n:0)}}function dt(o,i){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Lme("Computed from the last up to 5 played matches across all competitions because ",t.h2hHome," has limited data in ",t.homeSeasonResolved||"this competition",".")}}function ct(o,i){if(1&o&&e.EFF(0),2&o){const t=e.XpG(3);e.SpI("Computed from the last up to 5 played matches in ",t.homeSeasonResolved||"this competition",".")}}function ht(o,i){if(1&o&&(e.j41(0,"div",38),e.DNE(1,dt,2,2,"span",21)(2,ct,1,1,"ng-template",null,11,e.C5r),e.k0s()),2&o){const t=e.sdS(3),n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.homeIsFallback)("ngIfElse",t)}}function mt(o,i){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI("(",t.awaySeasonResolved,")")}}function ut(o,i){if(1&o&&(e.j41(0,"span",38),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.SpI(" \u2014 ",t.awayMatchesAvailableText,"")}}function pt(o,i){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.E5c("Recent form for ",t.h2hAway," \u2014 last up to 5 played matches from ",t.awaySourceLeague||"all competitions"," (fallback due to limited data in ",t.awaySeasonResolved||"this competition","). Points use W=3, D=1, L=0.")}}function gt(o,i){if(1&o&&(e.j41(0,"div",19),e.EFF(1),e.k0s()),2&o){const t=e.XpG(2);e.R7$(),e.Lme("Recent form for ",t.h2hAway," \u2014 last up to 5 played matches in ",t.awaySeasonResolved||"this competition",". Points use W=3, D=1, L=0.")}}function ft(o,i){1&o&&e.nrm(0,"span")}function yt(o,i){if(1&o&&(e.qex(0),e.j41(1,"span",60),e.EFF(2),e.k0s(),e.DNE(3,ft,1,0,"span",37),e.bVm()),2&o){const t=i.$implicit,n=i.index,a=e.XpG(3);e.R7$(),e.Y8G("ngClass",a.letterClass(t)),e.R7$(),e.JRh(t),e.R7$(),e.Y8G("ngIf",n<((null==a.awayForm||null==a.awayForm.recentResults?null:a.awayForm.recentResults.length)||0)-1)}}function _t(o,i){if(1&o&&e.nrm(0,"div",75),2&o){const t=i.$implicit,n=e.XpG(4);e.xc7("height",n.barHeight(t)),e.Y8G("title",t.toFixed(1))}}function wt(o,i){if(1&o&&(e.j41(0,"div",73),e.DNE(1,_t,1,3,"div",74),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Y8G("ngForOf",null==t.awayForm?null:t.awayForm.ppgSeries)}}function kt(o,i){if(1&o&&(e.j41(0,"div",76),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.SpI("PPG Trend: ",t.formatPpgTrend((null==t.awayForm?null:t.awayForm.ppgSeries)||e.lJ4(1,j)),"")}}function vt(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",69)(2,"span",70),e.DNE(3,yt,4,3,"ng-container",54),e.k0s()(),e.DNE(4,wt,2,1,"div",71)(5,kt,2,2,"div",72),e.k0s()),2&o){const t=e.XpG(2);e.R7$(3),e.Y8G("ngForOf",(null==t.awayForm?null:t.awayForm.recentResults)||e.lJ4(3,j)),e.R7$(),e.Y8G("ngIf",null==t.awayForm||null==t.awayForm.ppgSeries?null:t.awayForm.ppgSeries.length),e.R7$(),e.Y8G("ngIf",null==t.awayForm||null==t.awayForm.ppgSeries?null:t.awayForm.ppgSeries.length)}}function Ft(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"Loading\u2026"),e.k0s())}function St(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"No recent matches found"),e.k0s())}function bt(o,i){if(1&o&&(e.j41(0,"div",50)(1,"div",77),e.EFF(2,"Streak: "),e.j41(3,"strong"),e.EFF(4),e.k0s()(),e.j41(5,"div",78),e.EFF(6,"Win rate: "),e.j41(7,"strong"),e.EFF(8),e.k0s()(),e.j41(9,"div",79),e.EFF(10,"Points: "),e.j41(11,"strong"),e.EFF(12),e.k0s()()()),2&o){let t,n;const a=e.XpG(2);e.R7$(4),e.JRh(a.formatStreak(null==a.awayForm?null:a.awayForm.currentStreak)),e.R7$(4),e.SpI("",null!==(t=null==a.awayForm?null:a.awayForm.winRate)&&void 0!==t?t:0,"%"),e.R7$(4),e.JRh(null!==(n=null==a.awayForm?null:a.awayForm.pointsEarned)&&void 0!==n?n:0)}}function Ct(o,i){if(1&o&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&o){const t=e.XpG(3);e.R7$(),e.Lme("Computed from the last up to 5 played matches across all competitions because ",t.h2hAway," has limited data in ",t.awaySeasonResolved||"this competition",".")}}function Rt(o,i){if(1&o&&e.EFF(0),2&o){const t=e.XpG(3);e.SpI("Computed from the last up to 5 played matches in ",t.awaySeasonResolved||"this competition",".")}}function xt(o,i){if(1&o&&(e.j41(0,"div",38),e.DNE(1,Ct,2,2,"span",21)(2,Rt,1,1,"ng-template",null,12,e.C5r),e.k0s()),2&o){const t=e.sdS(3),n=e.XpG(2);e.R7$(),e.Y8G("ngIf",n.awayIsFallback)("ngIfElse",t)}}function It(o,i){if(1&o&&(e.j41(0,"div",57)(1,"div",39)(2,"div",47),e.EFF(3),e.DNE(4,ze,2,1,"span",37)(5,Ke,2,1,"span",26),e.k0s(),e.DNE(6,qe,2,3,"div",66)(7,Ze,2,2,"ng-template",null,7,e.C5r)(9,st,6,4,"div",67)(10,lt,2,0,"ng-template",null,8,e.C5r)(12,it,2,0,"div",26)(13,rt,13,3,"div",68)(14,ht,4,2,"div",26),e.k0s(),e.j41(15,"div",39)(16,"div",47),e.EFF(17),e.DNE(18,mt,2,1,"span",37)(19,ut,2,1,"span",26),e.k0s(),e.DNE(20,pt,2,3,"div",66)(21,gt,2,2,"ng-template",null,9,e.C5r)(23,vt,6,4,"div",67)(24,Ft,2,0,"ng-template",null,10,e.C5r)(26,St,2,0,"div",26)(27,bt,13,3,"div",68)(28,xt,4,2,"div",26),e.k0s()()),2&o){const t=e.sdS(8),n=e.sdS(11),a=e.sdS(22),s=e.sdS(25),l=e.XpG();e.R7$(3),e.SpI("",l.h2hHome," \u2014 Last 5 "),e.R7$(),e.Y8G("ngIf",l.homeSeasonResolved),e.R7$(),e.Y8G("ngIf",l.homeMatchesAvailableText),e.R7$(),e.Y8G("ngIf",l.homeIsFallback)("ngIfElse",t),e.R7$(3),e.Y8G("ngIf",l.homeForm)("ngIfElse",n),e.R7$(3),e.Y8G("ngIf",l.homeForm&&0===((null==l.homeForm||null==l.homeForm.recentResults?null:l.homeForm.recentResults.length)||0)),e.R7$(),e.Y8G("ngIf",l.homeForm),e.R7$(),e.Y8G("ngIf",l.homeForm),e.R7$(3),e.SpI("",l.h2hAway," \u2014 Last 5 "),e.R7$(),e.Y8G("ngIf",l.awaySeasonResolved),e.R7$(),e.Y8G("ngIf",l.awayMatchesAvailableText),e.R7$(),e.Y8G("ngIf",l.awayIsFallback)("ngIfElse",a),e.R7$(3),e.Y8G("ngIf",l.awayForm)("ngIfElse",s),e.R7$(3),e.Y8G("ngIf",l.awayForm&&0===((null==l.awayForm||null==l.awayForm.recentResults?null:l.awayForm.recentResults.length)||0)),e.R7$(),e.Y8G("ngIf",l.awayForm),e.R7$(),e.Y8G("ngIf",l.awayForm)}}function Tt(o,i){if(1&o&&(e.j41(0,"div",38),e.EFF(1),e.j41(2,"strong"),e.EFF(3),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(),e.Lme("Total head-to-head matches between ",t.h2hHome," and ",t.h2hAway," (all orientations): "),e.R7$(2),e.JRh(t.h2hAnyCount)}}function Et(o,i){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",60),e.EFF(6),e.k0s(),e.j41(7,"td",60),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()),2&o){const t=i.$implicit,n=e.XpG(3);e.R7$(2),e.JRh(t.year),e.R7$(2),e.JRh(t.date),e.R7$(),e.Y8G("ngClass",n.homeClass(t)),e.R7$(),e.JRh(t.homeTeam),e.R7$(),e.Y8G("ngClass",n.awayClass(t)),e.R7$(),e.JRh(t.awayTeam),e.R7$(2),e.JRh(t.result),e.R7$(2),e.JRh(t.season||"Archive")}}function Mt(o,i){if(1&o&&(e.j41(0,"table",81)(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"Year"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Date"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Home Team"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Away Team"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Result"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Season"),e.k0s()()(),e.j41(15,"tbody"),e.DNE(16,Et,13,8,"tr",54),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(16),e.Y8G("ngForOf",t.h2hMatches)}}function $t(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"No prior head-to-head matches"),e.k0s())}function Pt(o,i){if(1&o&&(e.j41(0,"div",39)(1,"div",47),e.EFF(2,"Head-to-Head Results History"),e.k0s(),e.j41(3,"div",19),e.EFF(4,"Complete list of prior meetings between the selected teams. Table shows the matches in the chosen orientation (home vs away). The total below includes both orientations."),e.k0s(),e.DNE(5,Tt,4,3,"div",26)(6,Mt,17,1,"table",80)(7,$t,2,0,"ng-template",null,13,e.C5r),e.k0s()),2&o){const t=e.sdS(8),n=e.XpG();e.R7$(5),e.Y8G("ngIf",null!==n.h2hAnyCount),e.R7$(),e.Y8G("ngIf",null==n.h2hMatches?null:n.h2hMatches.length)("ngIfElse",t)}}function Bt(o,i){if(1&o&&(e.j41(0,"div",38),e.EFF(1," Total meetings (all orientations): "),e.j41(2,"strong"),e.EFF(3),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(3),e.JRh(t.h2hMatchesAll.length)}}function At(o,i){if(1&o&&(e.j41(0,"div",83)(1,"div",84)(2,"div"),e.EFF(3),e.j41(4,"strong"),e.EFF(5),e.k0s()(),e.j41(6,"div"),e.EFF(7,"Draws: "),e.j41(8,"strong"),e.EFF(9),e.k0s()(),e.j41(10,"div"),e.EFF(11),e.j41(12,"strong"),e.EFF(13),e.k0s()()(),e.j41(14,"div",85)(15,"span",86),e.EFF(16),e.k0s(),e.j41(17,"span",87),e.EFF(18),e.k0s(),e.j41(19,"span",88),e.EFF(20),e.k0s()()()),2&o){const t=e.XpG(2);e.R7$(3),e.SpI("",t.h2hHome," wins: "),e.R7$(2),e.JRh(t.h2hAllWinsHomeTeam),e.R7$(4),e.JRh(t.h2hAllDraws),e.R7$(2),e.SpI("",t.h2hAway," wins: "),e.R7$(2),e.JRh(t.h2hAllWinsAwayTeam),e.R7$(3),e.Lme("",t.h2hHome,": ",t.h2hAllWinsHomePct,"%"),e.R7$(2),e.SpI("Draw: ",t.h2hAllDrawsPct,"%"),e.R7$(2),e.Lme("",t.h2hAway,": ",t.h2hAllWinsAwayPct,"%")}}function Ht(o,i){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",60),e.EFF(6),e.k0s(),e.j41(7,"td",60),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()()),2&o){const t=i.$implicit,n=e.XpG(3);e.R7$(2),e.JRh(t.year),e.R7$(2),e.JRh(t.date),e.R7$(),e.Y8G("ngClass",n.homeClass(t)),e.R7$(),e.JRh(t.homeTeam),e.R7$(),e.Y8G("ngClass",n.awayClass(t)),e.R7$(),e.JRh(t.awayTeam),e.R7$(2),e.JRh(t.result),e.R7$(2),e.JRh(t.season||"Archive")}}function jt(o,i){if(1&o&&(e.j41(0,"table",81)(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"Year"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Date"),e.k0s(),e.j41(7,"th"),e.EFF(8,"Home Team"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Away Team"),e.k0s(),e.j41(11,"th"),e.EFF(12,"Result"),e.k0s(),e.j41(13,"th"),e.EFF(14,"Season"),e.k0s()()(),e.j41(15,"tbody"),e.DNE(16,Ht,13,8,"tr",54),e.k0s()()),2&o){const t=e.XpG(2);e.R7$(16),e.Y8G("ngForOf",t.h2hMatchesAll)}}function Gt(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,"No matches found across both orientations"),e.k0s(),e.j41(2,"div",38),e.EFF(3,'Select a valid H2H pair and click "Analyse this fixture" to see predictions.'),e.k0s())}function Nt(o,i){if(1&o&&(e.j41(0,"div",39)(1,"div",47),e.EFF(2,"Head-to-Head Results (All Orientations)"),e.k0s(),e.j41(3,"div",19),e.EFF(4,"This table includes matches where either team was home or away, combining both orientations for a complete history."),e.k0s(),e.DNE(5,Bt,4,1,"div",26)(6,At,21,10,"div",82)(7,jt,17,1,"table",80)(8,Gt,4,0,"ng-template",null,14,e.C5r),e.k0s()),2&o){const t=e.sdS(9),n=e.XpG();e.R7$(5),e.Y8G("ngIf",((null==n.h2hMatchesAll?null:n.h2hMatchesAll.length)||0)>0),e.R7$(),e.Y8G("ngIf",((null==n.h2hMatchesAll?null:n.h2hMatchesAll.length)||0)>0),e.R7$(),e.Y8G("ngIf",null==n.h2hMatchesAll?null:n.h2hMatchesAll.length)("ngIfElse",t)}}function Dt(o,i){if(1&o){const t=e.RV6();e.j41(0,"button",92),e.bIt("click",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.downloadAsPDF())}),e.EFF(1,"Download as PDF"),e.k0s()}}function Ot(o,i){1&o&&(e.j41(0,"div",97),e.EFF(1,"Limited H2H data; scores based on league averages."),e.k0s())}function Yt(o,i){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"number"),e.k0s(),e.j41(6,"td"),e.nrm(7,"div",99),e.k0s()()),2&o){const t=i.$implicit,n=e.XpG(4);e.R7$(2),e.JRh(t.score),e.R7$(2),e.SpI("",e.i5U(5,4,t.displayProb,"1.1-1"),"%"),e.R7$(3),e.xc7("width",n.barWidth(t.displayProb),"%")}}function Lt(o,i){if(1&o&&(e.j41(0,"table",81)(1,"thead")(2,"tr")(3,"th"),e.EFF(4,"Score"),e.k0s(),e.j41(5,"th"),e.EFF(6,"Probability"),e.k0s(),e.nrm(7,"th",98),e.k0s()(),e.j41(8,"tbody"),e.DNE(9,Yt,8,7,"tr",54),e.k0s()()),2&o){const t=e.XpG(3);e.R7$(9),e.Y8G("ngForOf",t.getCorrectScoresWithDisplay())}}function Xt(o,i){if(1&o&&(e.qex(0),e.j41(1,"div",93)(2,"div",18),e.EFF(3,"Fixture Analysis Results"),e.k0s(),e.j41(4,"table",81)(5,"thead")(6,"tr")(7,"th"),e.EFF(8,"Outcome"),e.k0s(),e.j41(9,"th"),e.EFF(10,"Probability"),e.k0s()()(),e.j41(11,"tbody")(12,"tr")(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s()(),e.j41(17,"tr")(18,"td"),e.EFF(19,"Draw"),e.k0s(),e.j41(20,"td"),e.EFF(21),e.k0s()(),e.j41(22,"tr")(23,"td"),e.EFF(24),e.k0s(),e.j41(25,"td"),e.EFF(26),e.k0s()(),e.j41(27,"tr")(28,"td"),e.EFF(29,"Both Teams To Score (BTTS)"),e.k0s(),e.j41(30,"td"),e.EFF(31),e.k0s()(),e.j41(32,"tr")(33,"td"),e.EFF(34,"Over 2.5 Goals"),e.k0s(),e.j41(35,"td"),e.EFF(36),e.k0s()(),e.j41(37,"tr")(38,"td"),e.EFF(39,"Over 3.5 Goals"),e.k0s(),e.j41(40,"td"),e.EFF(41),e.nI1(42,"number"),e.k0s()(),e.j41(43,"tr")(44,"td"),e.EFF(45,"Over 1.5 Goals"),e.k0s(),e.j41(46,"td"),e.EFF(47),e.k0s()()()(),e.j41(48,"div",38),e.EFF(49),e.k0s(),e.DNE(50,Ot,2,0,"div",94),e.j41(51,"div",95),e.EFF(52,"Most Probable Correct Scores"),e.k0s(),e.DNE(53,Lt,10,1,"table",96),e.k0s(),e.bVm()),2&o){const t=e.XpG(2);e.R7$(14),e.SpI("",t.h2hHome," Win"),e.R7$(2),e.SpI("",null==t.predictions?null:t.predictions.teamAWin,"%"),e.R7$(5),e.SpI("",null==t.predictions?null:t.predictions.draw,"%"),e.R7$(3),e.SpI("",t.h2hAway," Win"),e.R7$(2),e.SpI("",null==t.predictions?null:t.predictions.teamBWin,"%"),e.R7$(5),e.SpI("",null==t.predictions?null:t.predictions.btts,"%"),e.R7$(5),e.SpI("",null==t.predictions?null:t.predictions.over25,"%"),e.R7$(5),e.SpI("",e.i5U(42,15,null==t.predictions?null:t.predictions.over35,"1.0-0"),"%"),e.R7$(6),e.SpI("",null==t.predictions?null:t.predictions.over15,"%"),e.R7$(2),e.LHq("Expected goals used: \u03bb(",t.h2hHome,") = ",null==t.predictions?null:t.predictions.lambdaA,", \u03bb(",t.h2hAway,") = ",null==t.predictions?null:t.predictions.lambdaB,""),e.R7$(),e.Y8G("ngIf",null==t.predictions?null:t.predictions.isLimitedData),e.R7$(3),e.Y8G("ngIf",null==t.predictions||null==t.predictions.correctScores?null:t.predictions.correctScores.length)}}function Wt(o,i){1&o&&(e.j41(0,"div",38),e.EFF(1,'Select a valid H2H pair and click "Analyse this fixture" to see predictions.'),e.k0s())}function Vt(o,i){if(1&o){const t=e.RV6();e.j41(0,"div",39)(1,"div",40)(2,"div",47),e.EFF(3,"Analyse this fixture"),e.k0s(),e.nrm(4,"div",89),e.j41(5,"button",90),e.bIt("click",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.analyseFixture())}),e.EFF(6,"Analyse this fixture"),e.k0s(),e.DNE(7,Dt,2,0,"button",91),e.k0s(),e.j41(8,"div",19),e.EFF(9,"Computes win/draw/loss, BTTS, Over 1.5 and Over 2.5 probabilities using a Poisson model based on the head-to-head goal averages and each team's overall sample size."),e.k0s(),e.DNE(10,Xt,54,18,"ng-container",21)(11,Wt,2,0,"ng-template",null,15,e.C5r),e.k0s()}if(2&o){const t=e.sdS(12),n=e.XpG();e.R7$(5),e.Y8G("disabled",!(n.h2hHome&&n.h2hHome.length>=3&&n.h2hAway&&n.h2hAway.length>=3)),e.R7$(2),e.Y8G("ngIf",n.predictions),e.R7$(3),e.Y8G("ngIf",n.predictions)("ngIfElse",t)}}let Jt=(()=>{class o{constructor(){this.matchService=(0,e.WQX)(J.T),this.teamService=(0,e.WQX)(K.n),this.configService=(0,e.WQX)(z),this.route=(0,e.WQX)(q.nX),this.total=0,this.loading=!0,this.query="",this.suggestions=[],this.selectedTeam=null,this.teamCount=0,this.loadingTeamCount=!1,this.breakdown=null,this.loadingBreakdown=!1,this.predictiveOn=!1,this.h2hQuery="",this.h2hSuggestions=[],this.h2hSelected=!1,this.h2hHome="",this.h2hAway="",this.h2hHomeId=null,this.h2hAwayId=null,this.h2hMatches=[],this.h2hMatchesAll=[],this.h2hAnyCount=null,this.h2hAllTotal=0,this.h2hAllWinsHomeTeam=0,this.h2hAllWinsAwayTeam=0,this.h2hAllDraws=0,this.h2hAllWinsHomePct=0,this.h2hAllWinsAwayPct=0,this.h2hAllDrawsPct=0,this.homeForm=null,this.awayForm=null,this.homeSeasonResolved=null,this.awaySeasonResolved=null,this.homeMatchesAvailableText=null,this.awayMatchesAvailableText=null,this.homeWarnings=[],this.awayWarnings=[],this.showTeamHint=!1,this.showDataHint=!1,this.leagueId=null,this.seasonName=window.__SEASON_NAME__||"2025/2026",this.gdAggregate=null,this.gdAverage=null,this.gdInsufficient=!0,this.seasonIdResolved=null,this.homeCount=0,this.awayCount=0,this.loadingHomeCount=!1,this.loadingAwayCount=!1,this.homeBreakdown=null,this.awayBreakdown=null,this.loadingHomeBreakdown=!1,this.loadingAwayBreakdown=!1,this.homeIsFallback=!1,this.awayIsFallback=!1,this.homeSourceLeague=null,this.awaySourceLeague=null,this.sourceContext="analysis",this.fixtureDateParam=null,this.predictions=null,this.matchAnalysis=(0,e.WQX)(ee.R),this.leagueContext=(0,e.WQX)(Z.K),this.colorCache=(0,e.WQX)(te.N),this.Math=Math,this.destroy$=new G.B,this.query$=new G.B,this.h2hQuery$=new G.B,this._pendingHome=null,this._pendingAway=null,this._deepLinkHandled=!1}getCorrectScoresWithDisplay(){const t=this.predictions?.correctScores||[];if(!t||0===t.length)return[];const n=t.reduce((l,c)=>l+(c?.probability||0),0),s=n>0?Math.min(1,25/n):1;return t.map(l=>({score:l.score,probability:l.probability,displayProb:+(l.probability*s).toFixed(1)}))}fetchOrientedH2H(t,n){"number"==typeof this.h2hHomeId&&"number"==typeof this.h2hAwayId?(console.debug("[PlayedMatches] Fetching oriented H2H across all seasons by IDs",{homeId:this.h2hHomeId,awayId:this.h2hAwayId}),this.matchService.getH2HMatchesByIdsAllSeasons(this.h2hHomeId,this.h2hAwayId,200).subscribe({next:a=>{this.h2hMatches=a??[],this.predictiveOn&&this.computeGDFromMatches()},error:()=>{this.h2hMatches=[],this.predictiveOn&&this.computeGDFromMatches()}})):(console.debug("[PlayedMatches] Fetching oriented H2H by names (IDs not yet resolved)",{homeName:t,awayName:n}),this.matchService.getH2HMatches(t,n).subscribe({next:a=>{this.h2hMatches=a??[],this.predictiveOn&&this.computeGDFromMatches()},error:()=>{this.h2hMatches=[],this.predictiveOn&&this.computeGDFromMatches()}}))}barWidth(t){const n=5*(t||0);return n>100?100:n}computeH2HAllStats(){const t=Array.isArray(this.h2hMatchesAll)?this.h2hMatchesAll:[],n=(this.h2hHome||"").trim().toLowerCase(),a=(this.h2hAway||"").trim().toLowerCase();let s=0,l=0,c=0,f=0;const r=d=>{if(!d||"string"!=typeof d)return null;const m=d.match(/\s*(\d+)\s*[-:]\s*(\d+)\s*/);if(!m)return null;const h=parseInt(m[1],10),p=parseInt(m[2],10);return Number.isNaN(h)||Number.isNaN(p)?null:{hg:h,ag:p}};for(const d of t){const m=r(d?.result||"");if(!m)continue;const h=(d?.homeTeam||"").toString().trim().toLowerCase(),p=(d?.awayTeam||"").toString().trim().toLowerCase();!h||!p||(f++,m.hg===m.ag?c++:m.hg>m.ag?h===n?s++:h===a&&l++:p===n?s++:p===a&&l++)}this.h2hAllTotal=f,this.h2hAllWinsHomeTeam=s,this.h2hAllWinsAwayTeam=l,this.h2hAllDraws=c,f>0?(this.h2hAllWinsHomePct=Math.round(s/f*100),this.h2hAllWinsAwayPct=Math.round(l/f*100),this.h2hAllDrawsPct=Math.round(c/f*100)):this.h2hAllWinsHomePct=this.h2hAllWinsAwayPct=this.h2hAllDrawsPct=0}analyseFixture(){this.h2hHome&&this.h2hAway&&this.leagueId?this.matchAnalysis.analyze({leagueId:this.leagueId,homeTeamId:this.h2hHomeId??void 0,awayTeamId:this.h2hAwayId??void 0,homeTeamName:this.h2hHome,awayTeamName:this.h2hAway,analysisType:"fixtures"}).pipe((0,A.Q)(this.destroy$)).subscribe({next:n=>{const a={teamAWin:n?.winProbabilities?.homeWin??0,draw:n?.winProbabilities?.draw??0,teamBWin:n?.winProbabilities?.awayWin??0,btts:n?.bttsProbability??0,over25:n?.over25Probability??0,lambdaA:+(n?.expectedGoals?.home??0).toFixed(2),lambdaB:+(n?.expectedGoals?.away??0).toFixed(2),over15:Math.min(100,Math.max(0,(n?.over25Probability??0)+18)),over35:Math.min(100,Math.max(0,(n?.over25Probability??0)-18)),isLimitedData:!1,correctScores:[]};this.predictions=a,this.showDataHint=!1},error:n=>{console.error("[PlayedMatches][AnalyseFixture] Backend analysis failed",n),this.predictions=null,this.showDataHint=!0}}):this.predictions=null}buildInsightsText(){if(!this.h2hSelected)return"";const t=[];null!=this.gdAggregate&&t.push(`${this.h2hHome} has ${this.formatSigned(this.gdAggregate)} GD in H2H`);const n=r=>r&&"0"!==r?/^\d+[WDL]$/i.test(r)?`${r} in a row`:r:null,a=n(this.homeForm?.currentStreak),s=n(this.awayForm?.currentStreak);a&&t.push(`${this.h2hHome} on ${a}`),s&&t.push(`${this.h2hAway} on ${s}`);const l=r=>{if(!r||r.length<2)return null;const m=r[0]??0;return`${(r[r.length-1]??0).toFixed(1)} \u2192 ${m.toFixed(1)}`},c=l(this.homeForm?.ppgSeries),f=l(this.awayForm?.ppgSeries);return c&&t.push(`${this.h2hHome} improved from ${c} PPG`),f&&t.push(`${this.h2hAway} improved from ${f} PPG`),0===t.length?"Limited match history available.":t.join("; ")}ngOnInit(){this.leagueId=this.leagueContext.getCurrentLeagueId(),this.leagueContext.leagueId$.pipe((0,A.Q)(this.destroy$)).subscribe(a=>{this.leagueId=a??null});let t=!1;const n=()=>{t&&this._pendingHome&&this._pendingAway&&!this._deepLinkHandled&&(this._deepLinkHandled=!0,this.runHeadToHeadSearch(this._pendingHome,this._pendingAway))};this.configService.getFlags().pipe((0,A.Q)(this.destroy$)).subscribe({next:a=>{this.predictiveOn=!!a?.predictiveH2HPhase1Enabled,t=!0,this.h2hSelected&&this.predictiveOn&&(this.homeForm||(this.homeForm={recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0}),this.awayForm||(this.awayForm={recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0}),null===this.gdAggregate&&this.h2hMatches?.length&&this.computeGDFromMatches()),n()},error:()=>{this.predictiveOn=!1,t=!0,n()}}),this.matchService.getTotalPlayedMatches().subscribe({next:a=>{this.total=a??0,this.loading=!1},error:()=>{this.total=0,this.loading=!1}}),this.query$.pipe((0,O.B)(250),(0,Y.F)(),(0,L.n)(a=>a&&a.trim().length>=3?this.teamService.searchTeams(a.trim()):(0,X.of)([])),(0,A.Q)(this.destroy$)).subscribe(a=>{this.suggestions=a??[]}),this.h2hQuery$.pipe((0,O.B)(250),(0,Y.F)(),(0,L.n)(a=>a&&a.trim().length>=3?this.matchService.suggestH2H(a.trim()):(0,X.of)([])),(0,A.Q)(this.destroy$)).subscribe(a=>{this.h2hSuggestions=a??[]}),this.route.queryParams.pipe((0,A.Q)(this.destroy$)).subscribe(a=>{const s=a?.leagueId,l=null!=s?Number(s):NaN;!Number.isNaN(l)&&l>0&&(this.leagueContext.setCurrentLeagueId(l),this.leagueId=l,console.log("[LeagueContext] Set leagueId from fixture:",l));const c=a?.h2hHome,f=a?.h2hAway,r=a?.from||a?.source,d=a?.fixtureDate||a?.date||a?.kickoff;"string"==typeof r&&r&&(this.sourceContext=r),"string"==typeof d&&d&&(this.fixtureDateParam=d),c&&f&&"string"==typeof c&&"string"==typeof f&&(this._pendingHome=c,this._pendingAway=f,n())})}onQueryChange(t){this.selectedTeam=null,this.teamCount=0,this.breakdown=null,this.query$.next(t||"")}selectTeam(t){this.selectedTeam=t,this.suggestions=[],this.loadingTeamCount=!0,this.loadingBreakdown=!0,this.matchService.getPlayedTotalByTeamName(t.name).subscribe({next:n=>{this.teamCount=n??0,this.loadingTeamCount=!1},error:()=>{this.teamCount=0,this.loadingTeamCount=!1}}),console.log("[PlayedMatches][Breakdown][REQ]",{name:t.name}),this.matchService.getResultsBreakdownByTeamName(t.name).subscribe({next:n=>{if(this.breakdown=n,this.loadingBreakdown=!1,n&&"number"==typeof n.longestStreakCount&&n.longestStreakCount>0&&n.longestStreakType)console.log("[PlayedMatches][Breakdown][RESP]",{name:t.name,total:n.total,wins:n.wins,draws:n.draws,losses:n.losses,btts:n.btts,over15:n.over15,over25:n.over25,longest:`${n.longestStreakType}:${n.longestStreakCount}`});else{const s=(n?.total??0)<=0?"NO_MATCHES":"NOT_COMPUTED_OR_ZERO";console.warn("[PlayedMatches][Breakdown][RESP][NO_STREAK]",{name:t.name,total:n?.total??0,reason:s,payload:n})}},error:n=>{console.error("[PlayedMatches][Breakdown][ERR]",{name:t.name,error:n}),this.breakdown={total:0,wins:0,draws:0,losses:0,btts:0,over25:0,over15:0},this.loadingBreakdown=!1}})}clearSelection(){this.selectedTeam=null,this.teamCount=0,this.breakdown=null}onH2HQueryChange(t){this.h2hSelected=!1,this.h2hHome="",this.h2hAway="",this.h2hMatches=[],this.showTeamHint=!1,this.showDataHint=!1,this.h2hQuery$.next(t||"")}computeGDFromMatches(){const t=this.h2hMatches??[];if(!this.h2hHome)return this.gdAggregate=null,this.gdAverage=null,void(this.gdInsufficient=!0);let n=0,a=0;for(const s of t){const l=this.parseScore(s?.result||"");if(!l)continue;const c=(s.homeTeam||"").trim(),f=(s.awayTeam||"").trim();let r=0,d=0;c&&0===c.localeCompare(this.h2hHome,void 0,{sensitivity:"accent",usage:"search"})?(r=l.hg,d=l.ag):f&&0===f.localeCompare(this.h2hHome,void 0,{sensitivity:"accent",usage:"search"})?(r=l.ag,d=l.hg):(r=l.hg,d=l.ag),n+=r-d,a++}this.gdAggregate=a>0?n:null,this.gdAverage=a>0?+(n/a).toFixed(2):null,this.gdInsufficient=a<3}promptSelectCandidate(t,n){return(0,D.A)(function*(){try{const a=`team_disambig:${(t||"").trim().toLowerCase()}`,s=typeof localStorage<"u"?localStorage.getItem(a):null;if(s){const r=JSON.parse(s),d=(n||[]).find(m=>m.id===r.id||m.leagueId===r.leagueId);if(d)return d}const l=(n||[]).map((r,d)=>`${d+1}) ${r.name} \u2013 ${null!=r.leagueId?"League "+r.leagueId:"Unknown league"}`),c=window.prompt(`Multiple teams named "${t}" found.\nSelect the correct one by number:\n\n${l.join("\n")}`,"1"),f=c?parseInt(c,10):NaN;if(!Number.isNaN(f)&&f>=1&&f<=n.length){const r=n[f-1];try{typeof localStorage<"u"&&localStorage.setItem(a,JSON.stringify({id:r.id,leagueId:r.leagueId}))}catch{}return r}}catch(a){console.warn("[PlayedMatches] Disambiguation prompt failed",a)}return null})()}runHeadToHeadSearch(t,n){const a=(t??"").toString().trim(),s=(n??"").toString().trim();a&&s?(this.h2hQuery=`${a} vs ${s}`,this.selectH2H(a,s)):this.showTeamHint=!0}selectH2H(t,n){var a=this;return(0,D.A)(function*(){a.h2hAnyCount=null,a.h2hHomeId=null,a.h2hAwayId=null;const s=r=>{if(!r)return null;if("string"==typeof r)return r.trim();const d=["name","teamName","label","value","text"];for(const m of d){const h=r[m];if("string"==typeof h)return h.trim()}if("object"==typeof r){const m=Object.keys(r);if(1===m.length){const h=r[m[0]];if("string"==typeof h)return h.trim()}}try{const h=JSON.stringify(r).match(/"(?:name|teamName|label|value|text)"\s*:\s*"([^"]+)"/);if(h&&h[1])return h[1].trim()}catch{}return console.error("[PlayedMatches] Unexpected team structure:",JSON.stringify(r,null,2)),null};try{console.log("[PlayedMatches] Raw H2H input:",JSON.stringify({home:t,away:n}))}catch{console.log("[PlayedMatches] Raw H2H input:",{home:t,away:n})}let l=s(t),c=s(n);const f=r=>{if("string"==typeof r)return r.trim();try{const d=String(r).trim();return d&&"[object object]"!==d.toLowerCase()?d:null}catch{return null}};if(l=f(l),c=f(c),!l||!c||l.length<2||c.length<2)return console.error("[PlayedMatches] Invalid team names from:",{home:t,away:n,homeName:l,awayName:c}),void(a.showTeamHint=!0);if(console.log("[PlayedMatches] Extracted names for league",a.leagueId,":",{homeName:l,awayName:c}),a.h2hSelected=!0,a.h2hHome=l,a.h2hAway=c,a.h2hSuggestions=[],a.loadingHomeCount=a.loadingAwayCount=!0,a.loadingHomeBreakdown=a.loadingAwayBreakdown=!0,a.homeForm=null,a.awayForm=null,a.matchService.getPlayedTotalByTeamName(l).subscribe({next:r=>{a.homeCount=r??0,a.loadingHomeCount=!1},error:()=>{a.homeCount=0,a.loadingHomeCount=!1}}),console.log("[H2H][HomeBreakdown][REQ]",{name:l}),a.matchService.getResultsBreakdownByTeamName(l).subscribe({next:r=>{a.homeBreakdown=r,a.loadingHomeBreakdown=!1,r&&r.longestStreakCount>0&&r.longestStreakType?console.log("[H2H][HomeBreakdown][RESP]",{name:l,longest:`${r.longestStreakType}:${r.longestStreakCount}`}):console.warn("[H2H][HomeBreakdown][RESP][NO_STREAK]",{name:l,total:r?.total??0,payload:r}),a.tryPersistH2HColors()},error:()=>{a.homeBreakdown={total:0,wins:0,draws:0,losses:0,btts:0,over25:0,over15:0},a.loadingHomeBreakdown=!1}}),a.matchService.getPlayedTotalByTeamName(c).subscribe({next:r=>{a.awayCount=r??0,a.loadingAwayCount=!1},error:()=>{a.awayCount=0,a.loadingAwayCount=!1}}),console.log("[H2H][AwayBreakdown][REQ]",{name:c}),a.matchService.getResultsBreakdownByTeamName(c).subscribe({next:r=>{a.awayBreakdown=r,a.loadingAwayBreakdown=!1,r&&r.longestStreakCount>0&&r.longestStreakType?console.log("[H2H][AwayBreakdown][RESP]",{name:c,longest:`${r.longestStreakType}:${r.longestStreakCount}`}):console.warn("[H2H][AwayBreakdown][RESP][NO_STREAK]",{name:c,total:r?.total??0,payload:r}),a.tryPersistH2HColors()},error:()=>{a.awayBreakdown={total:0,wins:0,draws:0,losses:0,btts:0,over25:0,over15:0},a.loadingAwayBreakdown=!1}}),a.predictiveOn){a.homeForm=null,a.awayForm=null;let r="number"==typeof a.leagueId&&a.leagueId>0?a.leagueId:a.leagueContext.getCurrentLeagueId()??null,d=!1;if(null==r)try{const h=yield a.teamService.findByNameWithDisambiguation(l).toPromise();let p=h?.team??null;(!p||!p.leagueId)&&h?.conflict&&Array.isArray(h.candidates)&&(p=yield a.promptSelectCandidate(l,h.candidates));const k=yield a.teamService.findByNameWithDisambiguation(c).toPromise();let _=k?.team??null;(!_||!_.leagueId)&&k?.conflict&&Array.isArray(k.candidates)&&(_=yield a.promptSelectCandidate(c,k.candidates));const S=p&&"number"==typeof p.leagueId?p.leagueId:null,w=_&&"number"==typeof _.leagueId?_.leagueId:null;S&&w&&S===w?(r=S,d=!0,console.log("[PlayedMatches] Inferred leagueId from team selection:",r),a.leagueContext.setCurrentLeagueId(r),a.leagueId=r):console.warn("[PlayedMatches] Could not infer a common leagueId from selected teams",{homeInfo:p,awayInfo:_})}catch(h){console.warn("[PlayedMatches] League inference by team names failed",h)}let m=window.__SEASON_ID__??null;if(null==m||"number"!=typeof m)if("number"==typeof r)try{const h=d?"":a.seasonName,p=yield a.matchService.getSeasonId(r,h).toPromise();"number"==typeof p&&(m=p,a.seasonIdResolved=p)}catch(h){console.warn("[PlayedMatches] seasonId resolution failed",h)}else console.warn("[PlayedMatches] Missing active leagueId; cannot resolve seasonId.");if(null==m||"number"!=typeof m)"number"==typeof r?(console.warn("[PlayedMatches] No valid seasonId; using autoSeason name-based flow."),a.matchService.getH2HFormByNamesWithAutoSeason(l,c,r,a.seasonName,5).subscribe({next:h=>{const p=Array.isArray(h)?h:[],k=(w,u)=>{const g=w?.last5?.recent;let y=Array.isArray(g)?g:[];if(!Array.isArray(g)||0===g.length){const R=w?.matches||[];for(let I=0;I<Math.min(5,R.length);I++){const T=R[I],E=(T?.result||"").split("-");if(2===E.length){const C=parseInt(E[0],10),M=parseInt(E[1],10);if(!Number.isNaN(C)&&!Number.isNaN(M)){const $=0===(T?.homeTeam||"").localeCompare(u,void 0,{sensitivity:"accent",usage:"search"})?C:0===(T?.awayTeam||"").localeCompare(u,void 0,{sensitivity:"accent",usage:"search"})?M:C,P=0===(T?.homeTeam||"").localeCompare(u,void 0,{sensitivity:"accent",usage:"search"})?M:0===(T?.awayTeam||"").localeCompare(u,void 0,{sensitivity:"accent",usage:"search"})?C:M;y.push($>P?"W":$===P?"D":"L")}}}}const b=w?.last5?.winRate??0,F=w?.last5?.streak||a.computeCompactStreak(y),x=y.reduce((R,I)=>R+("W"===I?3:"D"===I?1:0),0);return{recentResults:y,currentStreak:F,winRate:b,pointsEarned:x,ppgSeries:w?.last5?.ppgSeries}},_=p.find(w=>(w?.teamName||"").toLowerCase()===l.toLowerCase())||p[0]||null,S=p.find(w=>(w?.teamName||"").toLowerCase()===c.toLowerCase())||p[1]||null;a.homeForm=_?k(_,l):{recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0},a.awayForm=S?k(S,c):{recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0},a.homeSeasonResolved=_?.seasonResolved||null,a.awaySeasonResolved=S?.seasonResolved||null,a.homeMatchesAvailableText=_?.matchesAvailable||null,a.awayMatchesAvailableText=S?.matchesAvailable||null,a.homeIsFallback=!!_?.last5?.fallback,a.awayIsFallback=!!S?.last5?.fallback,a.homeSourceLeague=_?.sourceLeague||null,a.awaySourceLeague=S?.sourceLeague||null},error:h=>{console.error("[PlayedMatches] getH2HFormByNamesWithAutoSeason failed",h),a.showDataHint=!0,a.homeForm={recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0},a.awayForm={recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0}}})):(console.warn("[PlayedMatches] No valid seasonId and no leagueId; cannot fetch Last-5."),a.showDataHint=!0);else{let h=null,p=null;try{h=yield a.teamService.getScopedTeamId(l,"number"==typeof r?r:void 0).toPromise(),p=yield a.teamService.getScopedTeamId(c,"number"==typeof r?r:void 0).toPromise()}catch(k){console.warn("[PlayedMatches] league-scoped team id resolution failed",k)}"number"==typeof h&&"number"==typeof p?(console.debug("[PlayedMatches] Resolved IDs",{homeId:h,awayId:p,seasonId:m}),a.h2hHomeId=h,a.h2hAwayId=p,a.seasonIdResolved=m,console.debug("[PlayedMatches] calling getH2HFormByIds",{homeId:h,awayId:p,seasonId:m}),a.matchService.getH2HFormByIds(h,p,m,5).subscribe({next:k=>{const _=Array.isArray(k)?k:[];a.fetchOrientedH2H(l,c);const S=(g,y)=>{const b=g?.last5?.recent;let F=Array.isArray(b)?b:[];if(!Array.isArray(b)||0===b.length){const T=g?.matches||[];for(let E=0;E<Math.min(5,T.length);E++){const C=T[E],M=(C?.result||"").split("-");if(2===M.length){const $=parseInt(M[0],10),P=parseInt(M[1],10);if(!Number.isNaN($)&&!Number.isNaN(P)){const W=0===(C?.homeTeam||"").localeCompare(y,void 0,{sensitivity:"accent",usage:"search"})?$:0===(C?.awayTeam||"").localeCompare(y,void 0,{sensitivity:"accent",usage:"search"})?P:$,V=0===(C?.homeTeam||"").localeCompare(y,void 0,{sensitivity:"accent",usage:"search"})?P:0===(C?.awayTeam||"").localeCompare(y,void 0,{sensitivity:"accent",usage:"search"})?$:P;F.push(W>V?"W":W===V?"D":"L")}}}}const x=g?.last5?.winRate??0,R=g?.last5?.streak||a.computeCompactStreak(F),I=F.reduce((T,E)=>T+("W"===E?3:"D"===E?1:0),0);return{recentResults:F,currentStreak:R,winRate:x,pointsEarned:I,ppgSeries:g?.last5?.ppgSeries}},w=_.find(g=>Number(g?.teamId)===h)||_.find(g=>g?.teamName?.toLowerCase?.()===l.toLowerCase())||null,u=_.find(g=>Number(g?.teamId)===p)||_.find(g=>g?.teamName?.toLowerCase?.()===c.toLowerCase())||null;a.homeForm=w?S(w,l):{recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0},a.awayForm=u?S(u,c):{recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0},a.homeSeasonResolved=w?.seasonResolved||null,a.awaySeasonResolved=u?.seasonResolved||null,a.homeMatchesAvailableText=w?.matchesAvailable||null,a.awayMatchesAvailableText=u?.matchesAvailable||null,a.homeIsFallback=!!w?.last5?.fallback,a.awayIsFallback=!!u?.last5?.fallback,a.homeSourceLeague=w?.sourceLeague||null,a.awaySourceLeague=u?.sourceLeague||null},error:k=>{console.error("[PlayedMatches] getH2HFormByIds failed",k),a.homeForm={recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0},a.awayForm={recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0}}})):(console.warn("[PlayedMatches] Could not resolve team IDs in league for",{leagueId:a.leagueId,home:l,away:c}),a.showTeamHint=!0,a.homeForm={recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0},a.awayForm={recentResults:[],currentStreak:"0",winRate:0,pointsEarned:0})}}a.fetchOrientedH2H(l,c),a.matchService.getH2HCountAnyOrientation(l,c).subscribe({next:r=>{a.h2hAnyCount="number"==typeof r?r:0},error:()=>{a.h2hAnyCount=0}}),a.matchService.getH2HMatchesAnyOrientation(l,c).subscribe({next:r=>{a.h2hMatchesAll=r??[];try{a.tryPersistH2HColors()}catch{}try{a.computeH2HAllStats()}catch{}},error:()=>{a.h2hMatchesAll=[];try{a.tryPersistH2HColors()}catch{}try{a.computeH2HAllStats()}catch{}}})})()}clearH2H(){this.h2hSelected=!1,this.h2hHome="",this.h2hAway="",this.h2hMatches=[],this.h2hMatchesAll=[],this.homeForm=null,this.awayForm=null,this.gdAggregate=null,this.gdAverage=null,this.gdInsufficient=!0,this.showTeamHint=!1,this.showDataHint=!1,this.h2hAnyCount=null,this.homeMatchesAvailableText=null,this.awayMatchesAvailableText=null,this.homeSeasonResolved=null,this.awaySeasonResolved=null,this.homeIsFallback=!1,this.awayIsFallback=!1,this.h2hAllTotal=0,this.h2hAllWinsHomeTeam=0,this.h2hAllWinsAwayTeam=0,this.h2hAllDraws=0,this.h2hAllWinsHomePct=0,this.h2hAllWinsAwayPct=0,this.h2hAllDrawsPct=0}pct(t){const n=this.breakdown?.total??0;if(n<=0)return"0";const s=Math.round((t??0)/n*100);return String(s)}pct2(t,n){const a=n??0;if(a<=0)return"0";const l=Math.round((t??0)/a*100);return String(l)}formatLongestStreak(t,n){const a=n??0;return!t||a<=0?"\u2014":`${"W"===t?"Wins":"D"===t?"Draws":"Losses"}: ${a}`}formatStreak(t,n){return 1===arguments.length?t||"\u2014":this.formatLongestStreak(t,n)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}parseScore(t){if(!t)return null;const n=t.match(/^(\d+)\s*-\s*(\d+)$/);if(!n)return null;const a=parseInt(n[1],10),s=parseInt(n[2],10);return Number.isNaN(a)||Number.isNaN(s)?null:{hg:a,ag:s}}homeClass(t){const n=this.parseScore(t.result);if(n)return n.hg>n.ag?"win":n.hg<n.ag?"loss":"draw"}awayClass(t){const n=this.parseScore(t.result);if(n)return n.ag>n.hg?"win":n.ag<n.hg?"loss":"draw"}pctFor(t,n){if(!t||!n)return 0;const a=t.total??0;return!a||a<=0?0:Math.round((t[n]??0)/a*100)}h2hClass(t,n=!0){const a=this.pctFor(this.homeBreakdown,t),s=this.pctFor(this.awayBreakdown,t);return a===s?"stat-equal":n?a>s?"stat-better":void 0:s>a?"stat-better":void 0}formatSigned(t){return null==t?"\u2014":t>0?"+"+t:String(t)}formatAvg(t){return null==t||Number.isNaN(t)?"\u2014":(t>0?"+":"")+t.toFixed(2)}profileHighlightStyle(t){const n=t?this.homeBreakdown:this.awayBreakdown,a=(n?.longestStreakType||"").toUpperCase(),s=n?.longestStreakCount||0;if(!a||!s||s<=5)return{};let l="";return"W"===a?l="rgba(16,160,16,0.55)":"L"===a?l="rgba(204, 43, 59, 0.55)":"D"===a&&(l="rgba(255, 165, 0, 0.55)"),l?{boxShadow:`inset 0 0 0 6px ${l}`}:{}}computeColorFromBreakdown(t){const n=(t?.longestStreakType||"").toUpperCase();return n?"W"===n?"#16a34a":"L"===n?"#ef4444":"D"===n?"#f59e0b":null:null}teamPillStyle(t){const a=this.computeColorFromBreakdown(t?this.homeBreakdown:this.awayBreakdown);return a?{background:a,color:"#ffffff",padding:"2px 6px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.15)"}:{}}hasBothLongestTypes(){const t=(this.homeBreakdown?.longestStreakType||"").toUpperCase(),n=(this.awayBreakdown?.longestStreakType||"").toUpperCase();return!!t&&!!n}isSameOverallLongest(){return!!this.hasBothLongestTypes()&&(this.homeBreakdown?.longestStreakType||"").toUpperCase()===(this.awayBreakdown?.longestStreakType||"").toUpperCase()}tryPersistH2HColors(){try{if(!this.h2hSelected||!this.h2hHome||!this.h2hAway||this.loadingHomeBreakdown||this.loadingAwayBreakdown)return;const t=this.computeColorFromBreakdown(this.homeBreakdown),n=this.computeColorFromBreakdown(this.awayBreakdown),a=this.leagueId??void 0,s=t,l=n;let c=!1;s?(this.colorCache.setTeamColor(this.h2hHome,s,a),c=!0):(this.colorCache.removeTeamColor(this.h2hHome,a),c=!0),l?(this.colorCache.setTeamColor(this.h2hAway,l,a),c=!0):(this.colorCache.removeTeamColor(this.h2hAway,a),c=!0),this.colorCache.setTeamStreakCount(this.h2hHome,this.homeBreakdown?.longestStreakCount||null,a),this.colorCache.setTeamStreakCount(this.h2hAway,this.awayBreakdown?.longestStreakCount||null,a);const d=u=>{if(!u)return!1;const g=u.toLowerCase();return g.includes("#16a34a")||g.includes("green")},m=u=>{const g=Array.isArray(this.h2hMatchesAll)?this.h2hMatchesAll:[];if(!g.length)return null;let y=0,b=0;for(const F of g){const x=(F?.result||"").split("-");if(2!==x.length)continue;const R=parseInt(x[0],10),I=parseInt(x[1],10);if(Number.isNaN(R)||Number.isNaN(I))continue;const E=F.awayTeam||"",C=0===(F.homeTeam||"").localeCompare(u,void 0,{sensitivity:"accent",usage:"search"}),M=0===E.localeCompare(u,void 0,{sensitivity:"accent",usage:"search"});(C||M)&&(b++,(C?R:I)>(C?I:R)&&y++)}return 0===b?null:y/b};if(d(s)){const u=m(this.h2hHome);this.colorCache.setDoubleGreen(this.h2hHome,null!==u&&u>=.7,a)}else this.colorCache.setDoubleGreen(this.h2hHome,!1,a);if(d(l)){const u=m(this.h2hAway);this.colorCache.setDoubleGreen(this.h2hAway,null!==u&&u>=.7,a)}else this.colorCache.setDoubleGreen(this.h2hAway,!1,a);const h=u=>{if(!u)return!1;const g=u.toLowerCase().trim();if(g.includes("#f59e0b")||g.includes("orange"))return!0;const y=g.match(/rgba?\((\d+)[ ,]+(\d+)[ ,]+(\d+)/);if(y){const b=parseInt(y[1],10),F=parseInt(y[2],10),x=parseInt(y[3],10);if(b>=230&&F>=130&&F<=200&&x<=40)return!0}return!1},k=(()=>{const u=Array.isArray(this.h2hMatchesAll)?this.h2hMatchesAll:[];if(!u.length)return null;let g=0,y=0;for(const b of u){const F=(b?.result||"").split("-");if(2!==F.length)continue;const x=parseInt(F[0],10),R=parseInt(F[1],10);Number.isNaN(x)||Number.isNaN(R)||(y++,x===R&&g++)}return 0===y?null:g/y})();let _=!1;const S=!!s&&!!l&&s===l,w=!(null===k||!(k>=.4&&(h(s)||h(l))||k>.3&&S));if(this.colorCache.setDrawHeavyD(this.h2hHome,w,a),_=!0,this.colorCache.setDrawHeavyD(this.h2hAway,w,a),_=!0,c||_){console.log("[FixturesAnalysis] Updated team colors",{leagueId:a,home:this.h2hHome,homeColor:s,away:this.h2hAway,awayColor:l});try{window.dispatchEvent(new CustomEvent("fixtures:colors-updated",{detail:{leagueId:a,home:this.h2hHome,away:this.h2hAway}}))}catch{}try{window.parent&&window.parent!==window&&window.parent.postMessage({type:"fixtures:colors-updated",leagueId:a,home:this.h2hHome,away:this.h2hAway},"*")}catch{}}}catch(t){console.warn("[FixturesAnalysis] Failed to persist team colors",t)}}badgeClass(t){const n=(t||"").toUpperCase();return"W"===n?"badge badge-win":"D"===n?"badge badge-draw":"L"===n?"badge badge-loss":"badge"}letterClass(t){const n=(t||"").toUpperCase();return"W"===n?"letter-win":"D"===n?"letter-draw":"L"===n?"letter-loss":""}computeCompactStreak(t){const n=Array.isArray(t)?t:[];if(0===n.length)return"0";const a=(n[0]||"").toUpperCase();if(!["W","D","L"].includes(a))return"0";let s=1;for(let l=1;l<n.length&&(n[l]||"").toUpperCase()===a;l++)s++;return`${s}${a}`}barHeight(t){return Math.max(2,Math.round(("number"==typeof t?t:0)/3*24))+"px"}formatPpgTrend(t){if(!t||0===t.length)return"\u2014";const a=t[0];return`${(t[t.length-1]??0).toFixed(1)} \u2192 ${(a??0).toFixed(1)}`}buildPdfPayload(){const t={name:this.h2hHome,matchesInvolved:this.homeCount||this.homeBreakdown?.total||0,wins:this.homeBreakdown?.wins||0,draws:this.homeBreakdown?.draws||0,losses:this.homeBreakdown?.losses||0,btts:this.homeBreakdown?.btts||0,over15:this.homeBreakdown?.over15||0,over25:this.homeBreakdown?.over25||0,longestStreakType:this.homeBreakdown?.longestStreakType||null,longestStreakCount:this.homeBreakdown?.longestStreakCount||0,formattedLongestStreak:this.formatLongestStreak(this.homeBreakdown?.longestStreakType,this.homeBreakdown?.longestStreakCount)},n={name:this.h2hAway,matchesInvolved:this.awayCount||this.awayBreakdown?.total||0,wins:this.awayBreakdown?.wins||0,draws:this.awayBreakdown?.draws||0,losses:this.awayBreakdown?.losses||0,btts:this.awayBreakdown?.btts||0,over15:this.awayBreakdown?.over15||0,over25:this.awayBreakdown?.over25||0,longestStreakType:this.awayBreakdown?.longestStreakType||null,longestStreakCount:this.awayBreakdown?.longestStreakCount||0,formattedLongestStreak:this.formatLongestStreak(this.awayBreakdown?.longestStreakType,this.awayBreakdown?.longestStreakCount)},a=(this.h2hMatches||[]).map(d=>({year:d.year,date:d.date,match:`${d.homeTeam} vs ${d.awayTeam}`,result:d.result})),s=(this.h2hMatchesAll||[]).map(d=>({year:d.year,date:d.date,match:`${d.homeTeam} vs ${d.awayTeam}`,result:d.result})),l=this.predictions?{win:this.predictions.teamAWin,draw:this.predictions.draw,loss:this.predictions.teamBWin,btts:this.predictions.btts,over15:this.predictions.over15,over25:this.predictions.over25,over35:this.predictions.over35,correctScores:(this.predictions.correctScores||[]).map(d=>({score:d.score,probability:d.probability}))}:null,c=this.buildInsightsText();return{totalMatches:this.total,teamA:t,teamB:n,source:this.sourceContext||"analysis",fixtureDate:this.fixtureDateParam||null,h2h:{insights:c,goalDifferential:this.gdAggregate??0,averageGD:this.gdAverage??0,last5TeamA:{streak:this.homeForm?.currentStreak||"0",winRate:this.homeForm?.winRate||0,points:this.homeForm?.pointsEarned||0,recent:this.homeForm?.recentResults||[]},last5TeamB:{streak:this.awayForm?.currentStreak||"0",winRate:this.awayForm?.winRate||0,points:this.awayForm?.pointsEarned||0,recent:this.awayForm?.recentResults||[]},history:a,allOrientations:s},predictions:l}}downloadAsPDF(){if(!this.predictions)return;const t=this.buildPdfPayload();try{console.log("[Download] Sending payload:",t)}catch{}this.matchService.generateAnalysisPdf(t).subscribe({next:n=>{const a=n?.body instanceof Blob?n.body:new Blob([n],{type:"application/pdf"}),s=n?.headers?.get?n.headers.get("Content-Disposition"):null;let l=null;if(s&&/filename\*=UTF-8''([^;]+)/i.test(s))try{const d=s.match(/filename\*=UTF-8''([^;]+)/i);d&&d[1]&&(l=decodeURIComponent(d[1].trim()))}catch{}if(!l&&s&&/filename=([^;]+)/i.test(s)){const d=s.match(/filename=([^;]+)/i);d&&d[1]&&(l=d[1].replace(/"/g,"").trim())}if(!(d=l)||/^analysis(\.|$)/i.test(d)||/analysis\s*result/i.test(d)){Intl.DateTimeFormat().resolvedOptions();const m=new Date,h=u=>u<10?"0"+u:""+u,p=`${m.getFullYear()}-${h(m.getMonth()+1)}-${h(m.getDate())} ${h(m.getHours())}.${h(m.getMinutes())}`,k=u=>(u||"").replace(/[\\/:*?"<>|]+/g," ").replace(/[\n\r]+/g," ").trim().replace(/\s+/g," ");let w=`${k(this.h2hHome||"Team A")} VS ${k(this.h2hAway||"Team B")} - Analysis ${p}`;try{const u=(this.sourceContext||"").toLowerCase(),g=this.fixtureDateParam;if(g&&("fixtures"===u||"home"===u||"home-today"===u||"today"===u)){const y=new Date(g);isNaN(y.getTime())||(w+=` - Fixture ${y.getFullYear()}-${h(y.getMonth()+1)}-${h(y.getDate())}`)}}catch{}l=w.replace(/\u00A0/g," ").trim().replace(/\s+/g," ").replace(/\s/g,"_")+".pdf"}var d;const f=window.URL.createObjectURL(a),r=document.createElement("a");r.href=f,r.download=l||"analysis.pdf",document.body.appendChild(r),r.click(),setTimeout(()=>{document.body.removeChild(r),window.URL.revokeObjectURL(f)},0)},error:n=>{console.error("[PlayedMatches] PDF generation failed",n);try{window.alert?.("PDF generation failed. Try again or check backend logs.")}catch{}}})}static{this.\u0275fac=function(n){return new(n||o)}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-played-matches-summary"]],standalone:!0,features:[e.aNF],decls:37,vars:19,consts:[["loadingTpl",""],["loadingTpl2",""],["loadingTpl3",""],["loadingHomeCountTpl",""],["loadingHomeBdTpl",""],["loadingAwayCountTpl",""],["loadingAwayBdTpl",""],["homeScopedNote",""],["homeFormLoading",""],["awayScopedNote",""],["awayFormLoading",""],["homeScopedExplain",""],["awayScopedExplain",""],["noH2HMatches",""],["noH2HAll",""],["noPreds",""],[1,"container"],[1,"kpi-card"],[1,"kpi-title"],[1,"section-desc"],[1,"kpi-value"],[4,"ngIf","ngIfElse"],[1,"search-card"],["for","teamSearch",1,"label"],["id","teamSearch","type","text","placeholder","Start typing team name\u2026",3,"ngModelChange","input","ngModel"],["class","suggestions",4,"ngIf"],["class","hint",4,"ngIf"],["class","profile-card",4,"ngIf"],["for","h2hSearch",1,"label"],["id","h2hSearch","type","text","placeholder","Type team(s) name\u2026",3,"ngModelChange","input","ngModel"],["class","hint","style","margin: 8px 0; color:#9aa0a6;",4,"ngIf"],["class","profiles-grid",4,"ngIf"],["class","info-card",4,"ngIf"],["class","kpi-card",4,"ngIf"],[1,"suggestions"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngIf"],[1,"hint"],[1,"profile-card"],[1,"profile-header"],[1,"team-name"],[1,"clear",3,"click"],[1,"stat-row"],[1,"stat-label"],[1,"stat-value"],[1,"breakdown"],[1,"breakdown-title"],["class","breakdown-row",3,"loading",4,"ngIf","ngIfElse"],["class","breakdown-row",3,"loading",4,"ngIf"],[1,"breakdown-row"],[1,"pct"],["class","muted",4,"ngIf"],[1,"muted"],[4,"ngFor","ngForOf"],[1,"h2h-option",3,"click"],[1,"hint",2,"margin","8px 0","color","#9aa0a6"],[1,"profiles-grid"],[1,"profile-card",3,"ngStyle"],[1,"team-name",3,"ngStyle"],[3,"ngClass"],[1,"info-card"],[1,"info-title"],[1,"info-text"],["title","Aggregate GD across valid H2H matches"],[1,"breakdown-row",2,"margin-top","8px"],["class","section-desc",4,"ngIf","ngIfElse"],["class","breakdown-row",4,"ngIf","ngIfElse"],["class","breakdown-row",4,"ngIf"],[1,"form-badges","compact"],[1,"compact-seq"],["class","sparkline",4,"ngIf"],["class","ppg-fallback",4,"ngIf"],[1,"sparkline"],["class","spark-bar",3,"height","title",4,"ngFor","ngForOf"],[1,"spark-bar",3,"title"],[1,"ppg-fallback"],["title","Number of consecutive results from the most recent match going backwards (e.g., 3W means 3 straight wins)."],["title","Percentage of wins within the last up to 5 played matches considered."],["title","Total points from those matches using W=3, D=1, L=0."],["class","h2h-table",4,"ngIf","ngIfElse"],[1,"h2h-table"],["class","breakdown-row h2h-all",4,"ngIf"],[1,"breakdown-row","h2h-all"],[1,"h2h-all-left"],[1,"pill-group"],[1,"pill","pill-home"],[1,"pill","pill-draw"],[1,"pill","pill-away"],[2,"flex","1"],["data-test","analyse-button","title","Compute Poisson predictions for this H2H",1,"clear",3,"click","disabled"],["class","clear","style","margin-left:8px;background:#2563eb;","title","Download analysis as PDF with watermark",3,"click",4,"ngIf"],["title","Download analysis as PDF with watermark",1,"clear",2,"margin-left","8px","background","#2563eb",3,"click"],["data-test","predictions-table",1,"kpi-card"],["class","alert alert-warning","style","margin-top:8px; color:#f59e0b;",4,"ngIf"],[1,"kpi-title",2,"margin-top","12px"],["class","h2h-table",4,"ngIf"],[1,"alert","alert-warning",2,"margin-top","8px","color","#f59e0b"],[2,"width","50%"],[1,"bar"]],template:function(n,a){if(1&n){const s=e.RV6();e.j41(0,"section",16)(1,"h1"),e.EFF(2,"Fixtures Analysis"),e.k0s(),e.j41(3,"div",17)(4,"div",18),e.EFF(5,"Total Matches Played"),e.k0s(),e.j41(6,"div",19),e.EFF(7,"Total number of matches in Chambuavismart, across all seasons, leagues, and competitions."),e.k0s(),e.j41(8,"div",20),e.DNE(9,ne,3,3,"ng-container",21),e.k0s(),e.DNE(10,ae,1,0,"ng-template",null,0,e.C5r),e.k0s(),e.j41(12,"div",22)(13,"label",23),e.EFF(14,"Search Team (min 3 chars)"),e.k0s(),e.j41(15,"div",19),e.EFF(16,"Find a team to view their overall Fixtures Analysis stats across the entire dataset."),e.k0s(),e.j41(17,"input",24),e.mxI("ngModelChange",function(c){return e.eBV(s),e.DH7(a.query,c)||(a.query=c),e.Njj(c)}),e.bIt("input",function(){return e.eBV(s),e.Njj(a.onQueryChange(a.query))}),e.k0s(),e.DNE(18,le,2,1,"ul",25)(19,ie,2,0,"div",26),e.k0s(),e.DNE(20,ye,25,11,"div",27),e.j41(21,"div",22)(22,"label",28),e.EFF(23,"Search Head-to-Head (min 3 chars)"),e.k0s(),e.j41(24,"div",19),e.EFF(25,"Compare two teams to analyze their head-to-head history. Pick the order to set home/away orientation."),e.k0s(),e.j41(26,"input",29),e.mxI("ngModelChange",function(c){return e.eBV(s),e.DH7(a.h2hQuery,c)||(a.h2hQuery=c),e.Njj(c)}),e.bIt("input",function(){return e.eBV(s),e.Njj(a.onH2HQueryChange(a.h2hQuery))}),e.k0s(),e.DNE(27,ve,2,1,"ul",25)(28,Fe,2,0,"div",26),e.k0s(),e.DNE(29,Se,2,0,"div",30)(30,Ve,57,31,"div",31)(31,Je,7,1,"div",32)(32,Ue,14,7,"div",33)(33,It,29,20,"div",31)(34,Pt,9,3,"div",27)(35,Nt,10,4,"div",27)(36,Vt,13,4,"div",27),e.k0s()}if(2&n){const s=e.sdS(11);e.R7$(8),e.AVh("loading",a.loading),e.R7$(),e.Y8G("ngIf",!a.loading)("ngIfElse",s),e.R7$(8),e.R50("ngModel",a.query),e.R7$(),e.Y8G("ngIf",a.suggestions.length>0&&!a.selectedTeam),e.R7$(),e.Y8G("ngIf",a.query&&a.query.length<3),e.R7$(),e.Y8G("ngIf",a.selectedTeam),e.R7$(6),e.R50("ngModel",a.h2hQuery),e.R7$(),e.Y8G("ngIf",a.h2hSuggestions.length>0&&!a.h2hSelected),e.R7$(),e.Y8G("ngIf",a.h2hQuery&&a.h2hQuery.length<3),e.R7$(),e.Y8G("ngIf",a.h2hSelected),e.R7$(),e.Y8G("ngIf",a.h2hSelected),e.R7$(),e.Y8G("ngIf",a.h2hSelected&&a.predictiveOn),e.R7$(),e.Y8G("ngIf",a.h2hSelected&&a.predictiveOn),e.R7$(),e.Y8G("ngIf",a.h2hSelected&&a.predictiveOn),e.R7$(),e.Y8G("ngIf",a.h2hSelected),e.R7$(),e.Y8G("ngIf",a.h2hSelected),e.R7$(),e.Y8G("ngIf",a.h2hSelected)}},dependencies:[B.MD,B.YU,B.Sq,B.bT,B.B3,B.Pc,B.QX,H.YN,H.me,H.BC,H.vS],styles:[".stat-better[_ngcontent-%COMP%]{color:#10b981;font-weight:700}.stat-better[_ngcontent-%COMP%]   .pct[_ngcontent-%COMP%]{color:#10b981}.stat-equal[_ngcontent-%COMP%]{color:#f59e0b;font-weight:700}.stat-equal[_ngcontent-%COMP%]   .pct[_ngcontent-%COMP%]{color:#f59e0b}.container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding:16px;color:#e6eef8}h1[_ngcontent-%COMP%]{margin:0 0 16px;font-size:22px;font-weight:700}.kpi-card[_ngcontent-%COMP%], .search-card[_ngcontent-%COMP%], .profile-card[_ngcontent-%COMP%]{background:#0b1220;border:1px solid #1f2937;border-radius:12px;padding:20px;box-shadow:0 2px 12px #00000040;margin-top:16px}.kpi-title[_ngcontent-%COMP%]{color:#9fb6d4;font-weight:600;margin-bottom:8px}.info-card[_ngcontent-%COMP%]{background:#051426;border:1px solid #1e3a5f;border-radius:12px;padding:16px;margin-top:16px}.info-title[_ngcontent-%COMP%]{color:#93c5fd;font-weight:700;margin-bottom:6px}.info-text[_ngcontent-%COMP%]{color:#cbd5e1;line-height:1.4}.section-desc[_ngcontent-%COMP%]{color:#9aa4b2;font-size:12px;margin:4px 0 8px}.kpi-value[_ngcontent-%COMP%]{font-size:40px;font-weight:800;letter-spacing:.5px;color:#19b562;min-height:48px}.kpi-value.loading[_ngcontent-%COMP%]{color:#6b7280}.label[_ngcontent-%COMP%]{display:block;color:#9fb6d4;margin-bottom:8px}input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:8px;border:1px solid #334155;background:#0a1220;color:#e6eef8}.suggestions[_ngcontent-%COMP%]{list-style:none;margin:8px 0 0;padding:0;border:1px solid #334155;border-radius:8px;background:#0a1220;max-height:220px;overflow:auto}.suggestions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer}.suggestions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background:#111827}.h2h-option[_ngcontent-%COMP%]{padding:6px 12px;cursor:pointer}.h2h-option[_ngcontent-%COMP%]:hover{background:#111827}.hint[_ngcontent-%COMP%]{color:#6b7280;margin-top:6px}.profile-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.team-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.clear[_ngcontent-%COMP%]{background:#374151;color:#e5e7eb;border:none;padding:6px 10px;border-radius:8px;cursor:pointer}.clear[_ngcontent-%COMP%]:hover{background:#4b5563}.stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.stat-label[_ngcontent-%COMP%]{color:#9fb6d4}.stat-value[_ngcontent-%COMP%]{font-size:24px;font-weight:800;color:#f59e0b}.stat-value.loading[_ngcontent-%COMP%]{color:#6b7280}.breakdown[_ngcontent-%COMP%]{margin-top:12px}.breakdown-title[_ngcontent-%COMP%]{color:#9fb6d4;margin-bottom:6px;font-weight:600}.breakdown-row[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.breakdown-row[_ngcontent-%COMP%]   .pct[_ngcontent-%COMP%]{color:#9fb6d4;margin-left:6px}.breakdown-row.h2h-all[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.h2h-all-left[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.pill-group[_ngcontent-%COMP%]{margin-left:auto;display:flex;gap:8px}.pill[_ngcontent-%COMP%]{display:inline-block;padding:4px 10px;border-radius:999px;font-weight:800;font-size:12px;border:1px solid transparent}.pill-home[_ngcontent-%COMP%]{background:#065f46;color:#10b981;border-color:#10b981}.pill-draw[_ngcontent-%COMP%]{background:#1f2937;color:#cbd5e1;border-color:#9ca3af}.pill-away[_ngcontent-%COMP%]{background:#0f2a52;color:#60a5fa;border-color:#3b82f6}.profiles-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:16px}.form-badges[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.form-badges.compact[_ngcontent-%COMP%]{gap:4px}.compact-seq[_ngcontent-%COMP%]{font-weight:800;letter-spacing:2px;font-size:16px}.letter-win[_ngcontent-%COMP%]{color:#10b981}.letter-draw[_ngcontent-%COMP%]{color:#f59e0b}.letter-loss[_ngcontent-%COMP%]{color:#ef4444}.sparkline[_ngcontent-%COMP%]{display:flex;gap:4px;align-items:flex-end;min-height:16px}.spark-bar[_ngcontent-%COMP%]{width:6px;background:#19b562;border-radius:2px;opacity:.9}.ppg-fallback[_ngcontent-%COMP%]{color:#9fb6d4;font-size:12px}.badge[_ngcontent-%COMP%]{display:inline-block;min-width:24px;text-align:center;padding:4px 8px;border-radius:999px;font-weight:800}.badge-win[_ngcontent-%COMP%]{background:#065f46;color:#10b981;border:1px solid #10b981}.badge-draw[_ngcontent-%COMP%]{background:#1f2937;color:#9ca3af;border:1px solid #9ca3af}.badge-loss[_ngcontent-%COMP%]{background:#3f1d1d;color:#ef4444;border:1px solid #ef4444}.h2h-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:12px}.h2h-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .h2h-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:8px;border-bottom:1px solid #334155}.win[_ngcontent-%COMP%]{color:#10b981;font-weight:700}.loss[_ngcontent-%COMP%]{color:#ef4444;font-weight:700}.draw[_ngcontent-%COMP%]{color:#f59e0b;font-weight:700}.bar[_ngcontent-%COMP%]{height:5px;background:#007bff;border-radius:2px}[_nghost-%COMP%]{display:block}body[_ngcontent-%COMP%]{background:#0a0f1a}"]})}}return o})()}}]);