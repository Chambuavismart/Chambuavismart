"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[693],{693:(re,T,g)=>{g.r(T),g.d(T,{TeamOutcomeDistributionComponent:()=>ae});var _=g(177),e=g(4438),b=g(9417),v=g(9350),S=g(7707);function h(i,r){const t="object"==typeof r;return new Promise((s,o)=>{const n=new S.Ms({next:a=>{s(a),n.unsubscribe()},error:o,complete:()=>{t?s(r.defaultValue):o(new v.G)}});i.subscribe(n)})}var R=g(2983),D=g(3928),j=g(6375);function E(i,r){if(1&i&&(e.j41(0,"span",34),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" \xb7 ",t.leagueName,"")}}function C(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.selectFixture(o))}),e.j41(1,"div",28)(2,"div",29),e.EFF(3),e.j41(4,"span",30),e.EFF(5,"vs"),e.k0s(),e.EFF(6),e.DNE(7,E,2,1,"span",31),e.k0s(),e.j41(8,"span",32),e.EFF(9),e.k0s()(),e.j41(10,"div",33),e.EFF(11),e.nI1(12,"date"),e.k0s()()}if(2&i){const t=r.$implicit;e.R7$(3),e.SpI(" ",t.fixture.homeTeam," "),e.R7$(3),e.SpI(" ",t.fixture.awayTeam," "),e.R7$(),e.Y8G("ngIf",t.leagueName),e.R7$(2),e.JRh(t.fixture.status),e.R7$(2),e.SpI("Kickoff: ",e.i5U(12,5,t.fixture.dateTime,"medium"),"")}}function I(i,r){1&i&&(e.j41(0,"div",35),e.EFF(1,"No upcoming, live, or pending past fixtures for this team."),e.k0s())}function M(i,r){if(1&i&&(e.j41(0,"div",24),e.DNE(1,C,13,8,"button",25)(2,I,2,0,"div",26),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.suggestions),e.R7$(),e.Y8G("ngIf",!t.suggestions.length)}}function $(i,r){if(1&i&&(e.j41(0,"span",34),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" \xb7 League ",t.leagueId,"")}}function N(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.selectHome(o))}),e.j41(1,"span",37),e.EFF(2),e.k0s(),e.DNE(3,$,2,1,"span",31),e.k0s()}if(2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(),e.Y8G("ngIf",t.leagueId)}}function G(i,r){1&i&&(e.j41(0,"div",35),e.EFF(1,"No teams found."),e.k0s())}function O(i,r){if(1&i&&(e.j41(0,"div",36),e.DNE(1,N,4,2,"button",25)(2,G,2,0,"div",26),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.homeSuggestions),e.R7$(),e.Y8G("ngIf",!t.homeSuggestions.length)}}function V(i,r){if(1&i&&(e.j41(0,"div",38),e.EFF(1,"Selected: "),e.j41(2,"span",39),e.EFF(3),e.k0s()()),2&i){const t=e.XpG();e.R7$(3),e.JRh(t.homeTeam)}}function L(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"label",42),e.EFF(3,"Home prior result"),e.k0s(),e.j41(4,"select",43),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.homeManualResult,o)||(n.homeManualResult=o),e.Njj(o)}),e.j41(5,"option",44),e.EFF(6,"\u2014 Use last played \u2014"),e.k0s(),e.j41(7,"option",45),e.EFF(8,"Win"),e.k0s(),e.j41(9,"option",46),e.EFF(10,"Draw"),e.k0s(),e.j41(11,"option",47),e.EFF(12,"Loss"),e.k0s()()(),e.j41(13,"div",48)(14,"label",42),e.EFF(15,"Home prior score"),e.k0s(),e.j41(16,"input",49),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.homeManualScore,o)||(n.homeManualScore=o),e.Njj(o)}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.homeManualResult),e.R7$(12),e.R50("ngModel",t.homeManualScore)}}function Y(i,r){if(1&i&&(e.j41(0,"span",34),e.EFF(1),e.k0s()),2&i){const t=e.XpG().$implicit;e.R7$(),e.SpI(" \xb7 League ",t.leagueId,"")}}function A(i,r){if(1&i){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){const o=e.eBV(t).$implicit,n=e.XpG(2);return e.Njj(n.selectAway(o))}),e.j41(1,"span",37),e.EFF(2),e.k0s(),e.DNE(3,Y,2,1,"span",31),e.k0s()}if(2&i){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(),e.Y8G("ngIf",t.leagueId)}}function X(i,r){1&i&&(e.j41(0,"div",35),e.EFF(1,"No teams found."),e.k0s())}function W(i,r){if(1&i&&(e.j41(0,"div",36),e.DNE(1,A,4,2,"button",25)(2,X,2,0,"div",26),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.awaySuggestions),e.R7$(),e.Y8G("ngIf",!t.awaySuggestions.length)}}function H(i,r){if(1&i&&(e.j41(0,"div",38),e.EFF(1,"Selected: "),e.j41(2,"span",39),e.EFF(3),e.k0s()()),2&i){const t=e.XpG();e.R7$(3),e.JRh(t.awayTeam)}}function P(i,r){if(1&i){const t=e.RV6();e.j41(0,"div",40)(1,"div",41)(2,"label",42),e.EFF(3,"Away prior result"),e.k0s(),e.j41(4,"select",43),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.awayManualResult,o)||(n.awayManualResult=o),e.Njj(o)}),e.j41(5,"option",44),e.EFF(6,"\u2014 Use last played \u2014"),e.k0s(),e.j41(7,"option",45),e.EFF(8,"Win"),e.k0s(),e.j41(9,"option",46),e.EFF(10,"Draw"),e.k0s(),e.j41(11,"option",47),e.EFF(12,"Loss"),e.k0s()()(),e.j41(13,"div",48)(14,"label",42),e.EFF(15,"Away prior score"),e.k0s(),e.j41(16,"input",50),e.mxI("ngModelChange",function(o){e.eBV(t);const n=e.XpG();return e.DH7(n.awayManualScore,o)||(n.awayManualScore=o),e.Njj(o)}),e.k0s()()()}if(2&i){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.awayManualResult),e.R7$(12),e.R50("ngModel",t.awayManualScore)}}function Q(i,r){1&i&&(e.j41(0,"div",51),e.EFF(1,"Home and Away must be different teams."),e.k0s())}function B(i,r){1&i&&(e.j41(0,"div",52),e.EFF(1,"Loading..."),e.k0s())}function U(i,r){if(1&i&&(e.j41(0,"div",53),e.EFF(1),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.JRh(t.error)}}function z(i,r){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(", ",e.i5U(2,1,t.homeView.priorDate,"mediumDate"),"")}}function J(i,r){if(1&i&&(e.j41(0,"span",66),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI("Total matches: ",t.homeView.totalMatches,"")}}function K(i,r){if(1&i&&(e.j41(0,"span",69),e.EFF(1," \xb7 Longest ever: "),e.j41(2,"span",70)(3,"span",71),e.EFF(4),e.k0s(),e.j41(5,"span",69),e.EFF(6),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(3),e.Y8G("ngStyle",t.streakPillStyle(t.homeView.longestStreakType)),e.R7$(),e.JRh((t.homeView.longestStreakType||"").toUpperCase()),e.R7$(2),e.SpI("\xd7 ",t.homeView.longestStreakCount,"")}}function q(i,r){if(1&i&&(e.j41(0,"div",60)(1,"div",61),e.EFF(2),e.k0s(),e.j41(3,"div",62),e.EFF(4),e.DNE(5,z,3,4,"span",63),e.k0s(),e.j41(6,"div",64)(7,"span"),e.EFF(8,"Win "),e.j41(9,"span",65),e.EFF(10),e.nI1(11,"number"),e.k0s()(),e.j41(12,"span"),e.EFF(13,"Draw "),e.j41(14,"span",65),e.EFF(15),e.nI1(16,"number"),e.k0s()(),e.j41(17,"span"),e.EFF(18,"Loss "),e.j41(19,"span",65),e.EFF(20),e.nI1(21,"number"),e.k0s()(),e.j41(22,"span",66),e.EFF(23),e.k0s(),e.DNE(24,J,2,1,"span",67)(25,K,7,3,"span",68),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.JRh(t.homeTeam),e.R7$(2),e.Lme("Last: ",t.homeView.priorScore," ",t.homeView.priorResult,""),e.R7$(),e.Y8G("ngIf",t.homeView.priorDate),e.R7$(5),e.SpI("",e.i5U(11,10,t.homeView.win,"1.0-2"),"%"),e.R7$(5),e.SpI("",e.i5U(16,13,t.homeView.draw,"1.0-2"),"%"),e.R7$(5),e.SpI("",e.i5U(21,16,t.homeView.loss,"1.0-2"),"%"),e.R7$(3),e.SpI("n=",t.homeView.sampleSize,""),e.R7$(),e.Y8G("ngIf",void 0!==t.homeView.totalMatches),e.R7$(),e.Y8G("ngIf",t.homeView.longestStreakType&&t.homeView.longestStreakCount)}}function Z(i,r){if(1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI(", ",e.i5U(2,1,t.awayView.priorDate,"mediumDate"),"")}}function ee(i,r){if(1&i&&(e.j41(0,"span",66),e.EFF(1),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.SpI("Total matches: ",t.awayView.totalMatches,"")}}function te(i,r){if(1&i&&(e.j41(0,"span",69),e.EFF(1," \xb7 Longest ever: "),e.j41(2,"span",70)(3,"span",71),e.EFF(4),e.k0s(),e.j41(5,"span",69),e.EFF(6),e.k0s()()()),2&i){const t=e.XpG(3);e.R7$(3),e.Y8G("ngStyle",t.streakPillStyle(t.awayView.longestStreakType)),e.R7$(),e.JRh((t.awayView.longestStreakType||"").toUpperCase()),e.R7$(2),e.SpI("\xd7 ",t.awayView.longestStreakCount,"")}}function ie(i,r){if(1&i&&(e.j41(0,"div",60)(1,"div",61),e.EFF(2),e.k0s(),e.j41(3,"div",62),e.EFF(4),e.DNE(5,Z,3,4,"span",63),e.k0s(),e.j41(6,"div",64)(7,"span"),e.EFF(8,"Win "),e.j41(9,"span",65),e.EFF(10),e.nI1(11,"number"),e.k0s()(),e.j41(12,"span"),e.EFF(13,"Draw "),e.j41(14,"span",65),e.EFF(15),e.nI1(16,"number"),e.k0s()(),e.j41(17,"span"),e.EFF(18,"Loss "),e.j41(19,"span",65),e.EFF(20),e.nI1(21,"number"),e.k0s()(),e.j41(22,"span",66),e.EFF(23),e.k0s(),e.DNE(24,ee,2,1,"span",67)(25,te,7,3,"span",68),e.k0s()()),2&i){const t=e.XpG(2);e.R7$(2),e.JRh(t.awayTeam),e.R7$(2),e.Lme("Last: ",t.awayView.priorScore," ",t.awayView.priorResult,""),e.R7$(),e.Y8G("ngIf",t.awayView.priorDate),e.R7$(5),e.SpI("",e.i5U(11,10,t.awayView.win,"1.0-2"),"%"),e.R7$(5),e.SpI("",e.i5U(16,13,t.awayView.draw,"1.0-2"),"%"),e.R7$(5),e.SpI("",e.i5U(21,16,t.awayView.loss,"1.0-2"),"%"),e.R7$(3),e.SpI("n=",t.awayView.sampleSize,""),e.R7$(),e.Y8G("ngIf",void 0!==t.awayView.totalMatches),e.R7$(),e.Y8G("ngIf",t.awayView.longestStreakType&&t.awayView.longestStreakCount)}}function oe(i,r){if(1&i&&(e.j41(0,"div",78)(1,"span",74),e.EFF(2,"\u2705"),e.k0s(),e.j41(3,"span",75),e.EFF(4,"Prediction:"),e.k0s(),e.j41(5,"span",79),e.EFF(6),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(5),e.Y8G("ngStyle",t.predictionStyle),e.R7$(),e.JRh(t.prediction)}}function se(i,r){if(1&i&&(e.j41(0,"div",72)(1,"div",73)(2,"span",74),e.EFF(3,"\u26a0\ufe0f"),e.k0s(),e.j41(4,"span",75),e.EFF(5,"System:"),e.k0s(),e.j41(6,"span",76),e.EFF(7),e.k0s()(),e.DNE(8,oe,7,2,"div",77),e.k0s()),2&i){const t=e.XpG(2);e.R7$(7),e.JRh(t.conclusion),e.R7$(),e.Y8G("ngIf",t.prediction)}}function ne(i,r){if(1&i&&(e.j41(0,"div",54)(1,"div",28)(2,"h3",55),e.EFF(3,"Upcoming Match: "),e.j41(4,"span",56),e.EFF(5),e.k0s()()(),e.j41(6,"div",57),e.DNE(7,q,26,19,"div",58)(8,ie,26,19,"div",58),e.k0s(),e.DNE(9,se,9,2,"div",59),e.k0s()),2&i){const t=e.XpG();e.R7$(5),e.JRh(t.selectedLabel),e.R7$(2),e.Y8G("ngIf",t.homeView),e.R7$(),e.Y8G("ngIf",t.awayView),e.R7$(),e.Y8G("ngIf",t.conclusion)}}let ae=(()=>{class i{constructor(){this.teamService=(0,e.WQX)(R.n),this.fixturesService=(0,e.WQX)(D.g),this.matchService=(0,e.WQX)(j.T),this.query="",this.suggestions=[],this.showDropdown=!1,this.homeQuery="",this.awayQuery="",this.homeSuggestions=[],this.awaySuggestions=[],this.showHomeDropdown=!1,this.showAwayDropdown=!1,this.loading=!1,this.error=null,this.selectedLabel=null,this.homeTeam=null,this.awayTeam=null,this.homeManualResult="",this.homeManualScore="",this.awayManualResult="",this.awayManualScore="",this.homeView=null,this.awayView=null,this.conclusion=null,this.prediction=null,this.predictionStyle=null}streakPillStyle(t){const s=(t||"").toUpperCase();let o="#64748b";return"W"===s?o="#16a34a":"L"===s?o="#ef4444":"D"===s&&(o="#f59e0b"),{background:o,color:"#ffffff",border:"1px solid rgba(255,255,255,0.15)"}}onQuery(){const t=(this.query||"").trim();if(t.length<3)return this.suggestions=[],void(this.showDropdown=!1);this.fixturesService.searchFixtures(t,12,void 0,!0).subscribe({next:s=>{this.suggestions=s||[],this.showDropdown=!0},error:()=>{this.suggestions=[],this.showDropdown=!0}})}onHomeQuery(){const t=(this.homeQuery||"").trim();if(t.length<2)return this.homeSuggestions=[],void(this.showHomeDropdown=!1);this.teamService.searchTeamsScoped(t).subscribe({next:s=>{this.homeSuggestions=s||[],this.showHomeDropdown=!0},error:()=>{this.homeSuggestions=[],this.showHomeDropdown=!0}})}onAwayQuery(){const t=(this.awayQuery||"").trim();if(t.length<2)return this.awaySuggestions=[],void(this.showAwayDropdown=!1);this.teamService.searchTeamsScoped(t).subscribe({next:s=>{this.awaySuggestions=s||[],this.showAwayDropdown=!0},error:()=>{this.awaySuggestions=[],this.showAwayDropdown=!0}})}selectHome(t){this.homeTeam=t?.name||null,this.homeQuery=t?.name||"",this.showHomeDropdown=!1}selectAway(t){this.awayTeam=t?.name||null,this.awayQuery=t?.name||"",this.showAwayDropdown=!1}selectFixture(t){this.showDropdown=!1;const s=t.fixture;this.selectedLabel=`${s.homeTeam} vs ${s.awayTeam}${s.status?" ("+s.status+")":""}`,this.homeTeam=s.homeTeam,this.awayTeam=s.awayTeam,this.error=null,this.conclusion=null,this.prediction=null,this.predictionStyle=null,this.loading=!0,Promise.all([h(this.teamService.getLastPlayedByName(s.homeTeam)),h(this.teamService.getLastPlayedByName(s.awayTeam)),h(this.teamService.getPriorOutcomes(s.homeTeam)),h(this.teamService.getPriorOutcomes(s.awayTeam)),h(this.matchService.getResultsBreakdownByTeamName(s.homeTeam)),h(this.matchService.getResultsBreakdownByTeamName(s.awayTeam))]).then(([o,n,a,c,u,d])=>{this.loading=!1;const l=this.pickRow.bind(this),p=l(a,o),f=l(c,n);p&&u&&(p.longestStreakType=u?.longestStreakType??null,p.longestStreakCount=u?.longestStreakCount??null),f&&d&&(f.longestStreakType=d?.longestStreakType??null,f.longestStreakCount=d?.longestStreakCount??null),this.homeView=p,this.awayView=f,this.buildConclusion()}).catch(()=>{this.loading=!1,this.error="Failed to load outcome distributions"})}simulateManual(){const t=(this.homeTeam||"").trim(),s=(this.awayTeam||"").trim();if(!t||!s||t.toLowerCase()===s.toLowerCase())return;this.selectedLabel=`${t} vs ${s} (Manual)`,this.error=null,this.conclusion=null,this.prediction=null,this.predictionStyle=null,this.loading=!0;const o=(this.homeManualResult||"").trim(),n=(this.homeManualScore||"").trim(),a=(this.awayManualResult||"").trim(),c=(this.awayManualScore||"").trim();Promise.all([h(this.teamService.getLastPlayedByName(t)),h(this.teamService.getLastPlayedByName(s)),h(this.teamService.getPriorOutcomes(t)),h(this.teamService.getPriorOutcomes(s)),h(this.matchService.getResultsBreakdownByTeamName(t)),h(this.matchService.getResultsBreakdownByTeamName(s))]).then(([u,d,l,p,f,y])=>{this.loading=!1,this.pickRow.bind(this);const x=this.pickManualOrLast.bind(this),w=x(l,u,o,n),m=x(p,d,a,c);w&&f&&(w.longestStreakType=f?.longestStreakType??null,w.longestStreakCount=f?.longestStreakCount??null),m&&y&&(m.longestStreakType=y?.longestStreakType??null,m.longestStreakCount=y?.longestStreakCount??null),this.homeView=w,this.awayView=m,this.buildConclusion()}).catch(()=>{this.loading=!1,this.error="Failed to load outcome distributions"})}calcTotalMatches(t){try{const s=t?.stats;if(!s||!Array.isArray(s)||0===s.length)return 0;const o=s.reduce((n,a)=>n+("number"==typeof a.sampleSize?a.sampleSize:0),0);return o>0?o+1:0}catch{return 0}}pickManualOrLast(t,s,o,n){if(!t||!t.stats)return null;const a=this.calcTotalMatches(t),c=l=>(l||"").trim().toLowerCase(),u=l=>(l||"").trim();if(c(o)&&u(n)){const l=t.stats.find(p=>c(p.priorResult)===c(o)&&p.priorScoreLine===u(n));return l?{priorResult:l.priorResult,priorScore:l.priorScoreLine,win:l.nextResults?.win,draw:l.nextResults?.draw,loss:l.nextResults?.loss,sampleSize:l.sampleSize??0,totalMatches:a}:{priorResult:o,priorScore:n,win:NaN,draw:NaN,loss:NaN,sampleSize:0,totalMatches:a}}return this.pickRow(t,s)}pickRow(t,s){if(!t||!t.stats||!s)return null;const o=this.calcTotalMatches(t),n=t.stats.find(a=>a.priorResult?.toLowerCase()===String(s.priorResult||"").toLowerCase()&&a.priorScoreLine===s.priorScoreLine);return n?{priorResult:n.priorResult,priorScore:n.priorScoreLine,priorDate:s?.date,win:n.nextResults?.win,draw:n.nextResults?.draw,loss:n.nextResults?.loss,sampleSize:n.sampleSize??0,totalMatches:o}:{priorResult:s?.priorResult||"-",priorScore:s?.priorScoreLine||"-",priorDate:s?.date,win:NaN,draw:NaN,loss:NaN,sampleSize:0,totalMatches:o}}applyPredictionStyle(){const t=(this.prediction||"").toLowerCase();if(!t)return void(this.predictionStyle=null);const n=(c,u="#fff")=>({background:c,color:u}),a=(c,u,d="#fff")=>({background:`linear-gradient(90deg, ${c}, ${u})`,color:d});if(t.includes("unpredictable"))this.predictionStyle=a("#adb5bd","#ced4da","#212529");else{if(t.includes("double chance")){if(t.includes("home/away"))return void(this.predictionStyle=a("#28a745","#8fd19e","#0b2e13"));if(t.includes("home/draw")||t.includes("away/draw"))return void(this.predictionStyle=a("#fd7e14","#6c757d"))}this.predictionStyle=t.includes("most likely a home win")||t.includes("most likely an away win")||t.startsWith("edge to home side")||t.startsWith("edge to away side")?n("#28a745"):t.includes("draw")?n("#0dcaf0","#052c65"):{background:"#e9ecef",color:"#212529"}}}buildConclusion(){const t=this.homeView,s=this.awayView;if(this.conclusion=null,this.prediction=null,!t&&!s)return;const o=m=>m&&"number"==typeof m.win&&"number"==typeof m.draw&&"number"==typeof m.loss&&!isNaN(m.win)&&!isNaN(m.draw)&&!isNaN(m.loss),n=m=>{if(!o(m))return"UNKNOWN";const F=Math.max(m.win??0,m.draw??0,m.loss??0);return F===(m.win??0)?"WIN":F===(m.draw??0)?"DRAW":"LOSS"},a=n(t),c=n(s);if(this.conclusion="WIN"===a&&"WIN"===c?"Both teams often follow with wins after these priors.":"DRAW"===a&&"DRAW"===c?"Both teams often follow with draws after these priors.":"WIN"===a&&"WIN"!==c?`${this.homeTeam} shows a stronger tendency to win after its prior result.`:"WIN"===c&&"WIN"!==a?`${this.awayTeam} shows a stronger tendency to win after its prior result.`:"DRAW"===a&&"DRAW"!==c?`${this.homeTeam} leans toward a draw after its prior result.`:"DRAW"===c&&"DRAW"!==a?`${this.awayTeam} leans toward a draw after its prior result.`:"Mixed tendencies from the prior results.",!o(t)||!o(s))return;const u=(t.win+s.loss)/2,d=(t.draw+s.draw)/2,l=(t.loss+s.win)/2,p=Math.max(u,d,l),f=p===u?"HOME":p===d?"DRAW":"AWAY",y=u+d,k=l+d,x=u+l;if("DRAW"===f)return this.prediction="This match is most likely going to end as a draw.",void this.applyPredictionStyle();if(p>=50)return this.prediction="HOME"===f?"Most likely a home win.":"AWAY"===f?"Most likely an away win.":"Most likely a draw.",d>25&&d>=Math.min(u,l)&&(this.prediction=this.prediction.replace(/\.$/,"")+", though a draw is still possible."),void this.applyPredictionStyle();const w=[{k:"HD",v:y,label:"Home/Draw"},{k:"AD",v:k,label:"Away/Draw"},{k:"HA",v:x,label:"Home/Away"}];return w.sort((m,F)=>F.v-m.v),w[0].v>=70?(this.prediction=`More likely a Double Chance (${w[0].label}).`,void this.applyPredictionStyle()):u<=40&&d<=40&&l<=40?(this.prediction="This match is unpredictable.",void this.applyPredictionStyle()):(this.prediction=u>l?d>=30?"Edge to home side; double chance on Home/Draw is safer.":"Edge to home side.":l>u?d>=30?"Edge to away side; double chance on Away/Draw is safer.":"Edge to away side.":"Strong chance of a draw.",void this.applyPredictionStyle())}static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275cmp=e.VBU({type:i,selectors:[["app-team-outcome-distribution"]],standalone:!0,features:[e.aNF],decls:35,vars:15,consts:[[1,"mx-auto","p-3","max-w-3xl"],[1,"mx-auto","w-full","sm:max-w-xl","bg-slate-900","text-slate-100","rounded-xl","shadow","border","border-slate-700","p-3","sm:p-4"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-base","sm:text-lg","font-semibold","text-slate-100"],[1,"hidden","sm:inline-flex","items-center","gap-1","text-xs","font-medium","text-slate-300","hover:text-white",3,"click"],[1,"mb-3","relative"],["placeholder","Search upcoming/live or pending past by team (min 3 letters)",1,"w-full","rounded-md","border","border-slate-600","bg-slate-800","text-slate-100","px-3","py-2","text-sm","placeholder-slate-400","focus:outline-none","focus:ring-2","focus:ring-sky-500/60","focus:border-sky-500",3,"ngModelChange","input","ngModel"],["class","absolute left-0 right-0 mt-1 max-h-64 overflow-auto rounded-md border border-slate-600 bg-slate-800 shadow-lg z-50",4,"ngIf"],[1,"rounded-lg","bg-slate-800","border","border-slate-700","p-3","mb-3"],[1,"text-sm","font-medium","text-slate-200","mb-2"],[1,"grid","grid-cols-1","sm:grid-cols-12","gap-2"],[1,"sm:col-span-5","relative"],[1,"block","text-[11px]","text-slate-300","mb-1"],["placeholder","Search home team",1,"w-full","rounded-md","border","border-slate-600","bg-slate-800","text-slate-100","px-2.5","py-2","text-sm","placeholder-slate-400","focus:outline-none","focus:ring-2","focus:ring-sky-500/60","focus:border-sky-500",3,"ngModelChange","input","ngModel"],["class","absolute left-0 right-0 mt-1 max-h-56 overflow-auto rounded-md border border-slate-600 bg-slate-800 shadow-lg z-40",4,"ngIf"],["class","text-[11px] text-slate-300 mt-1",4,"ngIf"],["class","mt-2 grid grid-cols-5 gap-2",4,"ngIf"],["placeholder","Search away team",1,"w-full","rounded-md","border","border-slate-600","bg-slate-800","text-slate-100","px-2.5","py-2","text-sm","placeholder-slate-400","focus:outline-none","focus:ring-2","focus:ring-sky-500/60","focus:border-sky-500",3,"ngModelChange","input","ngModel"],[1,"sm:col-span-2","flex","sm:items-end","justify-end"],[1,"inline-flex","items-center","justify-center","whitespace-nowrap","rounded-md","border","border-sky-600","bg-sky-600","text-white","text-xs","font-medium","px-3","py-2","hover:bg-sky-700","hover:border-sky-700","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],["class","text-[11px] text-red-600 mt-2",4,"ngIf"],["class","text-sm text-slate-300",4,"ngIf"],["class","mt-2 text-xs rounded-md border border-amber-600 bg-amber-900/20 text-amber-200 px-3 py-2",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"absolute","left-0","right-0","mt-1","max-h-64","overflow-auto","rounded-md","border","border-slate-600","bg-slate-800","shadow-lg","z-50"],["type","button","class","w-full text-left px-3 py-2 hover:bg-slate-700 border-b border-slate-700 last:border-b-0",3,"click",4,"ngFor","ngForOf"],["class","px-3 py-2 text-xs text-slate-400",4,"ngIf"],["type","button",1,"w-full","text-left","px-3","py-2","hover:bg-slate-700","border-b","border-slate-700","last:border-b-0",3,"click"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-slate-100"],[1,"text-slate-400","font-normal"],["class","text-xs text-slate-400",4,"ngIf"],[1,"text-[10px]","px-1.5","py-0.5","rounded","bg-sky-900/40","text-sky-300"],[1,"text-[11px]","text-slate-400"],[1,"text-xs","text-slate-400"],[1,"px-3","py-2","text-xs","text-slate-400"],[1,"absolute","left-0","right-0","mt-1","max-h-56","overflow-auto","rounded-md","border","border-slate-600","bg-slate-800","shadow-lg","z-40"],[1,"text-sm","text-slate-100"],[1,"text-[11px]","text-slate-300","mt-1"],[1,"font-medium","text-slate-100"],[1,"mt-2","grid","grid-cols-5","gap-2"],[1,"col-span-2"],[1,"block","text-[10px]","text-slate-400","mb-1"],[1,"w-full","rounded-md","border","border-slate-600","bg-slate-800","text-slate-100","px-2","py-1.5","text-[13px]",3,"ngModelChange","ngModel"],["value",""],["value","Win"],["value","Draw"],["value","Loss"],[1,"col-span-3"],["placeholder","e.g. 2-1",1,"w-full","rounded-md","border","border-slate-600","bg-slate-800","text-slate-100","px-2","py-1.5","text-[13px]","placeholder-slate-400",3,"ngModelChange","ngModel"],["placeholder","e.g. 0-1",1,"w-full","rounded-md","border","border-slate-600","bg-slate-800","text-slate-100","px-2","py-1.5","text-[13px]","placeholder-slate-400",3,"ngModelChange","ngModel"],[1,"text-[11px]","text-red-600","mt-2"],[1,"text-sm","text-slate-300"],[1,"mt-2","text-xs","rounded-md","border","border-amber-600","bg-amber-900/20","text-amber-200","px-3","py-2"],[1,"mt-3"],[1,"text-sm","font-semibold","text-slate-100"],[1,"font-bold"],[1,"mt-2","grid","grid-cols-1","sm:grid-cols-2","gap-3"],["class","rounded-lg border border-slate-700 bg-slate-800 p-3",4,"ngIf"],["class","mt-3 grid grid-cols-1 sm:grid-cols-2 gap-2",4,"ngIf"],[1,"rounded-lg","border","border-slate-700","bg-slate-800","p-3"],[1,"text-sm","font-semibold","text-slate-100","truncate"],[1,"text-[11px]","text-slate-400","mb-2"],[4,"ngIf"],[1,"text-[13px]","text-slate-200","flex","flex-wrap","gap-x-3","gap-y-1"],[1,"font-semibold"],[1,"text-[10px]","text-slate-500"],["class","text-[10px] text-slate-500",4,"ngIf"],["class","text-[11px] text-slate-300",4,"ngIf"],[1,"text-[11px]","text-slate-300"],[1,"inline-flex","items-center","gap-1","ml-1"],[1,"inline-block","w-5","h-5","text-[11px]","leading-5","text-center","font-bold","rounded",3,"ngStyle"],[1,"mt-3","grid","grid-cols-1","sm:grid-cols-2","gap-2"],[1,"rounded-lg","border","border-sky-700","bg-sky-900/30","text-sky-200","px-3","py-2","text-sm","shadow-sm"],[1,"mr-1"],[1,"font-medium"],[1,"font-normal"],["class","rounded-lg border border-emerald-700 bg-emerald-900/30 text-emerald-200 px-3 py-2 text-sm shadow-sm",4,"ngIf"],[1,"rounded-lg","border","border-emerald-700","bg-emerald-900/30","text-emerald-200","px-3","py-2","text-sm","shadow-sm"],[1,"font-semibold",3,"ngStyle"]],template:function(s,o){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4,"Outcome Distribution \u2022 Upcoming Fixtures"),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.selectedLabel=null,o.homeView=null,o.awayView=null,o.conclusion=null,o.prediction=null}),e.EFF(6,"Clear"),e.k0s()(),e.j41(7,"div",5)(8,"input",6),e.mxI("ngModelChange",function(a){return e.DH7(o.query,a)||(o.query=a),a}),e.bIt("input",function(){return o.onQuery()}),e.k0s(),e.DNE(9,M,3,2,"div",7),e.k0s(),e.j41(10,"div",8)(11,"div",9),e.EFF(12,"Manual Matchup"),e.k0s(),e.j41(13,"div",10)(14,"div",11)(15,"label",12),e.EFF(16,"Home team"),e.k0s(),e.j41(17,"input",13),e.mxI("ngModelChange",function(a){return e.DH7(o.homeQuery,a)||(o.homeQuery=a),a}),e.bIt("input",function(){return o.onHomeQuery()}),e.k0s(),e.DNE(18,O,3,2,"div",14)(19,V,4,1,"div",15)(20,L,17,2,"div",16),e.k0s(),e.j41(21,"div",11)(22,"label",12),e.EFF(23,"Away team"),e.k0s(),e.j41(24,"input",17),e.mxI("ngModelChange",function(a){return e.DH7(o.awayQuery,a)||(o.awayQuery=a),a}),e.bIt("input",function(){return o.onAwayQuery()}),e.k0s(),e.DNE(25,W,3,2,"div",14)(26,H,4,1,"div",15)(27,P,17,2,"div",16),e.k0s(),e.j41(28,"div",18)(29,"button",19),e.bIt("click",function(){return o.simulateManual()}),e.EFF(30," Simulate this matchup "),e.k0s()()(),e.DNE(31,Q,2,0,"div",20),e.k0s(),e.DNE(32,B,2,0,"div",21)(33,U,2,1,"div",22)(34,ne,10,4,"div",23),e.k0s()()),2&s&&(e.R7$(8),e.R50("ngModel",o.query),e.R7$(),e.Y8G("ngIf",o.showDropdown),e.R7$(8),e.R50("ngModel",o.homeQuery),e.R7$(),e.Y8G("ngIf",o.showHomeDropdown),e.R7$(),e.Y8G("ngIf",o.homeTeam),e.R7$(),e.Y8G("ngIf",o.homeTeam),e.R7$(4),e.R50("ngModel",o.awayQuery),e.R7$(),e.Y8G("ngIf",o.showAwayDropdown),e.R7$(),e.Y8G("ngIf",o.awayTeam),e.R7$(),e.Y8G("ngIf",o.awayTeam),e.R7$(2),e.Y8G("disabled",!o.homeTeam||!o.awayTeam||o.homeTeam===o.awayTeam||o.loading),e.R7$(2),e.Y8G("ngIf",o.homeTeam&&o.awayTeam&&o.homeTeam===o.awayTeam),e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("ngIf",o.error),e.R7$(),e.Y8G("ngIf",o.selectedLabel))},dependencies:[_.MD,_.Sq,_.bT,_.B3,_.QX,_.vh,b.YN,b.xH,b.y7,b.me,b.wz,b.BC,b.vS],styles:["[_nghost-%COMP%]{display:block;color:#e0e0e0;background:#0a0a0a;font-family:Inter,Roboto,Arial,sans-serif}"]})}}return i})()}}]);