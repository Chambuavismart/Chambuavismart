<div class="gl-card">
  <h4 class="gl-title">{{ category | uppercase }}</h4>

  <ng-container *ngIf="leaders$ | async as leaders; else glLoading">
    <div *ngIf="leaders.length; else glEmpty" class="gl-list">
      <div *ngFor="let l of leaders" class="gl-row">
        <div class="gl-logo">
          <div class="gl-circle" *ngIf="!l.teamLogoUrl"></div>
          <img *ngIf="l.teamLogoUrl" [src]="l.teamLogoUrl" alt="{{ l.teamName }} logo" />
        </div>
        <div class="gl-main">
          <div class="gl-name">{{ l.teamName }}</div>
          <div class="gl-bar">
            <div class="gl-bar-fill" [style.width.%]="l.statPct"></div>
          </div>
        </div>
        <div class="gl-pct">{{ l.statPct | number: '1.0-0' }}% â€“ {{ l.statCount }}/{{ l.matchesPlayed }}</div>
      </div>
    </div>
  </ng-container>

  <ng-template #glLoading>
    <div class="gl-skeleton">
      <div class="gl-skel-row"></div>
      <div class="gl-skel-row"></div>
      <div class="gl-skel-row"></div>
    </div>
  </ng-template>

  <ng-template #glEmpty>
    <div class="gl-empty">No data available</div>
  </ng-template>
</div>

<style>
.gl-card { background:#fff; border:1px solid #e5e7eb; border-radius:10px; padding:10px; box-shadow:0 1px 2px rgba(0,0,0,0.04); }
.gl-title { margin:0 0 8px; font-weight:800; color:#0b3a4a; font-size:14px; }
.gl-list { display:flex; flex-direction:column; gap:8px; }
.gl-row { display:flex; align-items:center; gap:10px; }
.gl-logo { width:32px; height:32px; border-radius:50%; overflow:hidden; background:#f1f5f9; display:flex; align-items:center; justify-content:center; }
.gl-logo img { width:100%; height:100%; object-fit:cover; }
.gl-circle { width:100%; height:100%; background:#e2e8f0; border-radius:50%; }
.gl-main { flex:1; }
.gl-name { font-size:13px; font-weight:700; color:#0b3a4a; line-height:1.1; }
.gl-bar { width:100%; background:#f1f5f9; border-radius:999px; height:6px; overflow:hidden; margin-top:4px; }
.gl-bar-fill { height:6px; background:linear-gradient(90deg, #19b562, #1e6bd6); }
.gl-pct { font-size:12px; color:#334155; font-weight:700; min-width:90px; text-align:right; }
.gl-skeleton { display:flex; flex-direction:column; gap:8px; }
.gl-skel-row { height:28px; background:linear-gradient(90deg, #f1f5f9 0%, #e2e8f0 50%, #f1f5f9 100%); background-size:200% 100%; animation: glShimmer 1.2s infinite; border-radius:8px; }
@keyframes glShimmer { 0% { background-position:200% 0;} 100% { background-position:-200% 0;} }
.gl-empty { color:#64748b; font-size:12px; }
</style>
