"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[664],{2664:(V,I,k)=>{k.r(I),k.d(I,{TodayColorReportComponent:()=>W});var D=k(467),t=k(4438),v=k(177),F=k(9679),R=k(345),S=k(3928),E=k(6375),j=k(5897);function L(u,T){if(1&u){const e=t.RV6();t.j41(0,"button",17),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.changeDate(n.iso))}),t.j41(1,"span",18),t.EFF(2),t.k0s(),t.j41(3,"span",19),t.EFF(4),t.k0s()()}if(2&u){const e=T.$implicit,a=t.XpG(2);t.AVh("active",e.iso===a.selectedIso),t.Y8G("title",e.iso),t.R7$(2),t.JRh(e.label),t.R7$(),t.AVh("zero",0===e.pendingCount),t.R7$(),t.JRh(e.pendingCount)}}function N(u,T){if(1&u&&(t.j41(0,"option",20),t.EFF(1),t.k0s()),2&u){const e=T.$implicit;t.Y8G("value",e.key),t.R7$(),t.JRh(e.label)}}function G(u,T){if(1&u){const e=t.RV6();t.j41(0,"div",7)(1,"div",8),t.DNE(2,L,5,7,"button",9),t.k0s(),t.nrm(3,"div",10),t.j41(4,"div",11)(5,"label",12),t.EFF(6,"Sort:"),t.k0s(),t.j41(7,"select",13),t.bIt("change",function(n){t.eBV(e);const s=t.XpG();return t.Njj(s.changeSort(n.target.value))}),t.DNE(8,N,2,2,"option",14),t.k0s()(),t.j41(9,"button",15),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.downloadPdf())}),t.nrm(10,"i",16),t.EFF(11," Download as PDF "),t.k0s()()}if(2&u){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.dateOptions),t.R7$(5),t.Y8G("value",e.sortMode),t.R7$(),t.Y8G("ngForOf",e.sortOptions),t.R7$(),t.Y8G("disabled",e.loading)}}function $(u,T){1&u&&(t.j41(0,"div",21),t.EFF(1,"Loading fixtures\u2026"),t.k0s())}function A(u,T){if(1&u&&(t.j41(0,"div",21),t.EFF(1),t.k0s()),2&u){const e=t.XpG();t.R7$(),t.SpI("No pending fixtures for ",e.selectedIso,".")}}function B(u,T){if(1&u&&(t.j41(0,"div",28)(1,"div",29),t.EFF(2),t.k0s(),t.j41(3,"div",30)(4,"div",31),t.EFF(5),t.nI1(6,"date"),t.k0s(),t.j41(7,"div",32),t.nrm(8,"i",33),t.EFF(9),t.k0s()(),t.j41(10,"div",34),t.nrm(11,"span",35),t.j41(12,"span",36),t.EFF(13,"vs"),t.k0s(),t.nrm(14,"span",37),t.k0s()()),2&u){const e=T.$implicit,a=T.index,n=t.XpG(2);t.BMQ("data-league-id",e.leagueId),t.R7$(2),t.SpI("",a+1,"."),t.R7$(3),t.JRh(t.brH(6,9,n.toSafeDate(e.fixture.dateTime),"EEE, d MMM yyyy \u2022 HH:mm z","Africa/Nairobi")),t.R7$(4),t.Lme(" ",e.leagueCountry||"Unknown"," \u2014 ",e.leagueName,""),t.R7$(2),t.Y8G("ngStyle",n.teamPillStyle(e.fixture.homeTeam,e.leagueId))("innerHTML",n.formatTeamLabelHtml(e.fixture.homeTeam,e.leagueId),t.npT),t.R7$(3),t.Y8G("ngStyle",n.teamPillStyle(e.fixture.awayTeam,e.leagueId))("innerHTML",n.formatTeamLabelHtml(e.fixture.awayTeam,e.leagueId),t.npT)}}function U(u,T){if(1&u&&(t.j41(0,"section",22)(1,"header",23)(2,"h2")(3,"span",24),t.EFF(4),t.k0s()(),t.j41(5,"span",25),t.EFF(6),t.k0s()(),t.j41(7,"div",26),t.DNE(8,B,15,13,"div",27),t.k0s()()),2&u){const e=T.$implicit;t.R7$(4),t.JRh(e.label),t.R7$(2),t.JRh(e.items.length),t.R7$(2),t.Y8G("ngForOf",e.items)}}let W=(()=>{class u{constructor(){this.fixturesApi=(0,t.WQX)(S.g),this.colorCache=(0,t.WQX)(j.N),this.sanitizer=(0,t.WQX)(R.up),this.matchApi=(0,t.WQX)(E.T),this._backfillSeen=new Set,this.todayIso="",this.selectedIso="",this.loading=!1,this.groups=[],this.totalCount=0,this.sortMode="time",this.sortOptions=[{key:"time",label:"By kickoff time (default)"},{key:"streakType",label:"By streak type: Wins \u2192 Draws \u2192 Losses"},{key:"strongest",label:"By strongest streak (max count desc)"},{key:"sameColorFirst",label:"Same-color clashes first"}],this.dateOptions=[],this.optionsLoading=!1,this.flatData=[],this.onColorsUpdated=e=>{try{this.rebuildGroups()}catch{}},this.onStorageUpdated=e=>{try{const a=e?.key||"";("fixturesAnalysis.teamColors.v1"===a||"fixturesAnalysis.teamColors.version"===a)&&this.rebuildGroups()}catch{}}}toSafeDate(e){if(!e)return null;try{const a=new Date(e);return isNaN(a.getTime())?null:a}catch{return null}}resolveTeamNameRaw(e,a){const n="home"===a?["homeTeam","home_team","home","home_name","homeTeamName"]:["awayTeam","away_team","away","away_name","awayTeamName"];for(const o of n){const r=e&&"string"==typeof e[o]?e[o].trim():"";if(r)return r}const s="home"===a?e?.home||e?.home_team||e?.teams?.home||e?.teamHome:e?.away||e?.away_team||e?.teams?.away||e?.teamAway;if(s){if("string"==typeof s&&s.trim())return s.trim();if("string"==typeof s.name&&s.name.trim())return s.name.trim();if("string"==typeof s.team&&s.team.trim())return s.team.trim();if("string"==typeof s.title&&s.title.trim())return s.title.trim()}return""}normalizeTeamName(e,a){const n=this.resolveTeamNameRaw(e,a);return"string"==typeof n?n.trim():""}rebuildGroups(){try{const e=Array.isArray(this.flatData)?this.flatData.slice():[];this.groups=this.buildGroups(e),this.backfillVisibleTeams()}catch{this.groups=[]}}backfillVisibleTeams(){try{const e=[],a=(o,r)=>{const i=(o||"").toString().trim();if(!i)return;const c=`${i.toLowerCase()}#${r}`;if(this._backfillSeen.has(c))return;const p=this.colorCache.getTeamColor(i,r);if(!p||this.colorCache.isIndigoColor(p))return;const l=this.colorCache.getTeamStreakCount(i,r);l&&l>0?this._backfillSeen.add(c):e.push({name:i,leagueId:r})};for(const o of this.flatData||[])a(o.fixture?.homeTeam,o.leagueId),a(o.fixture?.awayTeam,o.leagueId);const n=()=>{if(!e.length)return;const{name:o,leagueId:r}=e.shift();this.colorCache.markBackfillInFlight(o,r)?this.matchApi.getResultsBreakdownByTeamName(o).subscribe({next:i=>{const c=i?.longestStreakCount??0,p=(i?.longestStreakType||"").toString().toUpperCase();this.colorCache.setTeamStreakCount(o,c&&c>0?c:null,r),"W"===p?this.colorCache.setTeamColor(o,"#16a34a",r):"L"===p?this.colorCache.setTeamColor(o,"#ef4444",r):"D"===p?this.colorCache.setTeamColor(o,"#f59e0b",r):this.colorCache.removeTeamColor(o,r)},error:i=>{},complete:()=>{this._backfillSeen.add(`${o.toLowerCase()}#${r}`),this.colorCache.clearBackfillInFlight(o,r),setTimeout(n,100)}}):n()},s=Math.min(e.length,3);for(let o=0;o<s;o++)setTimeout(n,0)}catch{}}ngOnDestroy(){try{window.removeEventListener("fixtures:colors-updated",this.onColorsUpdated)}catch{}try{window.removeEventListener("storage",this.onStorageUpdated)}catch{}}ngOnInit(){this.todayIso=this.computeTodayIsoNairobi(),this.selectedIso=this.todayIso,this.preloadDateOptions();try{window.addEventListener("fixtures:colors-updated",this.onColorsUpdated)}catch{}try{window.addEventListener("storage",this.onStorageUpdated)}catch{}this.load(this.selectedIso)}computeTodayIsoNairobi(){return new Intl.DateTimeFormat("en-CA",{timeZone:"Africa/Nairobi",year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date)}lastNDaysIso(e){const a=[];for(let s=0;s<=e;s++){const o=new Date;o.setDate(o.getDate()-s);const r=new Intl.DateTimeFormat("en-CA",{timeZone:"Africa/Nairobi",year:"numeric",month:"2-digit",day:"2-digit"});a.push(r.format(o))}return a}labelFor(e){if(e===this.todayIso)return"Today";const a=new Date(this.todayIso),n=new Date(e);return 1===Math.round((a.getTime()-n.getTime())/864e5)?"Yesterday":new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(n)}preloadDateOptions(){this.optionsLoading=!0;const e=this.lastNDaysIso(7);this.dateOptions=e.map(n=>({iso:n,label:this.labelFor(n),pendingCount:0}));const a=n=>{n>=this.dateOptions.length?this.optionsLoading=!1:this.fixturesApi.getFixturesByDate(this.dateOptions[n].iso).subscribe({next:o=>{let r=0;for(const i of o||[])for(const c of i.fixtures||[])"FINISHED"!==c.status&&r++;this.dateOptions[n].pendingCount=r,a(n+1)},error:o=>{this.dateOptions[n].pendingCount=0,a(n+1)}})};a(0)}changeDate(e){this.selectedIso!==e&&(this.selectedIso=e,this.load(e))}load(e){this.loading=!0,this.groups=[],this.totalCount=0,this.flatData=[],this.fixturesApi.getFixturesByDate(e).subscribe({next:a=>{const n=[];for(const s of a||[]){const o=s.fixtures||[],r=(e===this.todayIso?o.filter(i=>"FINISHED"!==i.status):o).slice().sort((i,c)=>new Date(i.dateTime).getTime()-new Date(c.dateTime).getTime());for(const i of r){try{i.homeTeam=this.normalizeTeamName(i,"home")||i.homeTeam,i.awayTeam=this.normalizeTeamName(i,"away")||i.awayTeam}catch{}n.push({leagueId:s.leagueId,leagueName:s.leagueName,leagueCountry:s.leagueCountry,fixture:i})}}this.totalCount=n.length,this.flatData=n,this.groups=this.buildGroups(n),setTimeout(()=>this.backfillVisibleTeams(),500)},error:a=>{this.groups=[],this.totalCount=0,this.flatData=[]},complete:()=>{this.loading=!1}})}downloadPdf(){var e=this;return(0,D.A)(function*(){const a=document.querySelector("div.report-wrap");if(!a){try{window.print()}catch{}return}const n=s=>new Promise((o,r)=>{const i=document.createElement("script");i.src=s,i.async=!0,i.onload=()=>o(),i.onerror=()=>r(new Error("Failed to load "+s)),document.head.appendChild(i)});try{const s="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js",o="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js";window.html2canvas||(yield n(s)),window.jspdf||(yield n(o));const r=window.html2canvas,{jsPDF:i}=window.jspdf||{};if(!r||!i)throw new Error("PDF libs unavailable");a.classList.add("exporting");const c=yield r(a,{backgroundColor:"#0f1320",scale:2,useCORS:!0});a.classList.remove("exporting"),c.toDataURL("image/png");const l=new i({orientation:"p",unit:"pt",format:"a4"}),f=l.internal.pageSize.getWidth(),m=l.internal.pageSize.getHeight(),g=f,d=g/c.width,C=24;l.setFontSize(14),l.setTextColor(150,150,150),l.text("Powered by Chambuavismart",f-C,28,{align:"right"});let y=c.height,x=0,b=0;for(;y>0;){const O=m-(0===b?40:0),_=Math.max(0,Math.floor(O/d));if(_<=0)break;const h=document.createElement("canvas"),P=h.getContext("2d");if(h.width=c.width,h.height=_,!P)break;P.clearRect(0,0,h.width,h.height),P.drawImage(c,0,-x);const z=h.toDataURL("image/png");l.addImage(z,"PNG",0,0===b?40:0,g,0===b?O:m,void 0,"FAST"),y-=_,x+=_,b++,y>0&&(l.addPage(),l.setFontSize(14),l.setTextColor(150,150,150),l.text("Powered by Chambuavismart",f-C,28,{align:"right"}))}const w=`Fixture_Analysis_Colours_Report_${e.selectedIso||e.todayIso||(new Date).toISOString().slice(0,10)}.pdf`;l.save(w)}catch(s){console.warn("[ColorReport] PDF generation failed, falling back to print()",s);try{window.print()}catch{}}})()}canonicalColor(e){if(!e)return null;const a=e.trim().toLowerCase();if(!a)return null;const n=o=>a.includes(o);if(n("red"))return"Red";if(n("green"))return"Green";if(n("orange")||n("amber"))return"Orange";if(n("yellow")||n("gold"))return"Yellow";if(n("blue"))return"Blue";if(n("purple")||n("violet"))return"Purple";if(n("pink"))return"Pink";if(n("teal")||n("cyan")||n("aqua"))return"Teal";if(n("brown"))return"Brown";if(n("black"))return"Black";if(n("white"))return"White";if(n("grey")||n("gray")||n("silver"))return"Gray";if(a.startsWith("#")&&("#f59e0b"===a||"#ffa500"===a))return"Orange";const s=this.parseColorToRgb(a);if(s){const[o,r,i]=s,c=Math.max(o,r,i),p=Math.min(o,r,i);return 0===c?"Black":p>240?"White":Math.abs(o-r)<15&&Math.abs(r-i)<15&&Math.abs(o-i)<15?"Gray":o>200&&r<100&&i<100?"Red":r>200&&o<100&&i<100?"Green":i>200&&o<100&&r<100?"Blue":o>200&&r>100&&r<200&&i<60?"Orange":o>200&&r>150&&i<80?"Yellow":o>150&&i>150&&r<120?"Purple":o>200&&r<140&&i>140?"Pink":r>150&&i>150&&o<120?"Teal":o>120&&r<100&&i<60?"Brown":o>=r&&o>=i?"Red":r>=o&&r>=i?"Green":"Blue"}return"Other"}teamColorType(e,a){const n=(e||"").toString().trim();if(!n)return null;const s=this.colorCache.getTeamColor(n,a);if(!s)return null;const o=(this.canonicalColor(s)||"").toLowerCase();return"green"===o?"W":"orange"===o?"D":"red"===o?"L":null}teamStreakCount(e,a){const n=(e||"").toString().trim();if(!n)return 0;const s=this.colorCache.getTeamStreakCount(n,a);return"number"==typeof s&&s>0?s:0}changeSort(e){this.sortMode!==e&&(this.sortMode=e,this.rebuildGroups())}parseColorToRgb(e){const n={red:[255,0,0],green:[0,128,0],blue:[0,0,255],orange:[255,165,0],amber:[255,191,0],yellow:[255,255,0],purple:[128,0,128],pink:[255,192,203],teal:[0,128,128],brown:[165,42,42],black:[0,0,0],white:[255,255,255],gray:[128,128,128],grey:[128,128,128]}[e];if(n)return n;if(e.startsWith("#")){const o=e.substring(1);if(3===o.length)return[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)];if(6===o.length)return[parseInt(o.slice(0,2),16),parseInt(o.slice(2,4),16),parseInt(o.slice(4,6),16)]}const s=e.match(/rgba?\((\d+)[ ,]+(\d+)[ ,]+(\d+)/);return s?[parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10)]:null}textOn(e){try{const a=this.parseColorToRgb(e.trim().toLowerCase());if(!a)return"#fff";const[n,s,o]=a;return.299*n+.587*s+.114*o>186?"#000":"#fff"}catch{return"#fff"}}teamPillStyle(e,a){const n=(e||"").toString().trim(),s=n?this.colorCache.getTeamColor(n,a):null;if(!s)return{};const o=(this.canonicalColor(s)||"").toLowerCase();let r=null;if("green"===o)r="#16a34a";else if("red"===o)r="#ef4444";else{if("orange"!==o)return{};r="#f59e0b"}const i={"background-color":r,color:"#fff",border:"1px solid rgba(255,255,255,0.12)"};return n&&this.colorCache.isDoubleGreen(n,a)&&(i.boxShadow="inset 0 0 0 3px #16a34a, inset 0 0 0 7px rgba(22,163,74,0.65), 0 0 0 2px #16a34a, 0 0 10px 3px rgba(22,163,74,0.75)"),i}formatTeamLabelHtml(e,a){const n=(e||"").toString().trim();if(!n)return"";try{const s=this.colorCache.hasDrawHeavyD(n,a),o=this.colorCache.isDoubleGreen(n,a),r=this.colorCache.getTeamStreakCount(n,a),i=l=>l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),c=[];s&&c.push('<span style="font-weight:800;color:#ff7a00;text-shadow:0 0 6px rgba(255,122,0,0.85), 0 0 12px rgba(255,122,0,0.6);font-size:1.05em;letter-spacing:0.5px;">D</span>'),o&&c.push("\u{1f525}");const p=r&&r>0?`${i(n)} <span style='opacity:0.95;font-weight:700'>( ${r} )</span>`:i(n);return c.push(p),this.sanitizer.bypassSecurityTrustHtml(c.join(" "))}catch{return n}}bucketLabelFor(e,a){const n=e||"Uncolored",s=a||"Uncolored";if("Uncolored"===n&&"Uncolored"===s)return{key:"uncolored",label:"Uncolored (no team colors set)"};const o=this.canonicalColor("Uncolored"===n?null:n)||"Other",r=this.canonicalColor("Uncolored"===s?null:s)||"Other";if(o===r)return{key:`same:${o}`,label:`Both ${o}`};if("Orange"===o&&"Orange"!==r||"Orange"===r&&"Orange"!==o)return{key:"orange-vs-other",label:"Orange vs Other"};const i=[o,r].sort().join(" vs ");return{key:`pair:${[o,r].sort().join("|")}`,label:i}}buildGroups(e){const a=(e||[]).slice(),n=(p,l)=>{const f=new Date(p.fixture.dateTime).getTime(),m=new Date(l.fixture.dateTime).getTime();return isNaN(f)&&isNaN(m)?0:isNaN(f)?1:isNaN(m)?-1:f-m};let i;return i=a.sort("streakType"===this.sortMode?(p,l)=>{const f=d=>{const C=this.teamColorType(d.fixture.homeTeam,d.leagueId),y=this.teamColorType(d.fixture.awayTeam,d.leagueId),x=this.teamStreakCount(d.fixture.homeTeam,d.leagueId),b=this.teamStreakCount(d.fixture.awayTeam,d.leagueId),M=Math.max("W"===C?x:0,"W"===y?b:0),w=Math.max("D"===C?x:0,"D"===y?b:0),O=Math.max("L"===C?x:0,"L"===y?b:0);let _=3,h=0;return(M>0||w>0||O>0)&&(M>=w&&M>=O?(_=0,h=M):w>=M&&w>=O?(_=1,h=w):(_=2,h=O)),{cat:_,keyVal:h}},m=f(p),g=f(l);return m.cat!==g.cat?m.cat-g.cat:m.keyVal!==g.keyVal?g.keyVal-m.keyVal:n(p,l)}:"strongest"===this.sortMode?(p,l)=>{const f=d=>{const C=this.teamColorType(d.fixture.homeTeam,d.leagueId),y=this.teamColorType(d.fixture.awayTeam,d.leagueId),x=this.teamStreakCount(d.fixture.homeTeam,d.leagueId),b=this.teamStreakCount(d.fixture.awayTeam,d.leagueId),M=Math.max("W"===C?x:0,"W"===y?b:0),w=Math.max("D"===C?x:0,"D"===y?b:0),O=Math.max("L"===C?x:0,"L"===y?b:0),_=Math.max(M,w,O);let h=3;return _>0&&(h=_===M?0:_===w?1:2),{maxCnt:_,typePri:h}},m=f(p),g=f(l);return m.maxCnt!==g.maxCnt?g.maxCnt-m.maxCnt:m.typePri!==g.typePri?m.typePri-g.typePri:n(p,l)}:"sameColorFirst"===this.sortMode?(p,l)=>{const f=d=>{const C=this.teamColorType(d.fixture.homeTeam,d.leagueId),y=this.teamColorType(d.fixture.awayTeam,d.leagueId);return{same:!(!C||!y||C!==y),sumCnt:(C?this.teamStreakCount(d.fixture.homeTeam,d.leagueId):0)+(y?this.teamStreakCount(d.fixture.awayTeam,d.leagueId):0)}},m=f(p),g=f(l);return m.same!==g.same?m.same?-1:1:m.sumCnt!==g.sumCnt?g.sumCnt-m.sumCnt:n(p,l)}:n),[{key:"all",label:"time"===this.sortMode?"All fixtures (by time)":"streakType"===this.sortMode?"All fixtures (Wins \u2192 Draws \u2192 Losses)":"strongest"===this.sortMode?"All fixtures (by strongest streak)":"All fixtures (same-color clashes first)",items:i}]}static{this.\u0275fac=function(a){return new(a||u)}}static{this.\u0275cmp=t.VBU({type:u,selectors:[["app-today-color-report"]],standalone:!0,features:[t.aNF],decls:15,vars:8,consts:[[1,"report-wrap"],[1,"head","no-print"],[1,"sub"],["class","controls no-print",4,"ngIf"],[1,"head","only-print"],["class","muted",4,"ngIf"],["class","bucket",4,"ngFor","ngForOf"],[1,"controls","no-print"],[1,"dates"],["type","button","class","date-btn",3,"active","title","click",4,"ngFor","ngForOf"],[1,"spacer"],[1,"sort"],["for","sortMode"],["id","sortMode",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],["type","button",1,"print-btn",3,"click","disabled"],[1,"fa","fa-file-pdf-o"],["type","button",1,"date-btn",3,"click","title"],[1,"lbl"],[1,"cnt"],[3,"value"],[1,"muted"],[1,"bucket"],[1,"bucket-head"],[1,"pill"],[1,"count"],[1,"bucket-body"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"idx"],[1,"meta"],[1,"time"],[1,"league"],[1,"fa","fa-flag"],[1,"teams"],[1,"team","home",3,"ngStyle","innerHTML"],[1,"vs"],[1,"team","away",3,"ngStyle","innerHTML"]],template:function(a,n){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"h1"),t.EFF(3,"Fixture Analysis Colours Report"),t.k0s(),t.j41(4,"div",2),t.EFF(5),t.k0s()(),t.DNE(6,G,12,4,"div",3),t.j41(7,"div",4)(8,"h1"),t.EFF(9,"Fixture Analysis Colours Report"),t.k0s(),t.j41(10,"div",2),t.EFF(11),t.k0s()(),t.DNE(12,$,2,0,"div",5)(13,A,2,1,"div",5)(14,U,9,3,"section",6),t.k0s()),2&a&&(t.R7$(5),t.Lme("Date: ",n.selectedIso," \u2022 Pending fixtures: ",n.totalCount,""),t.R7$(),t.Y8G("ngIf",n.dateOptions.length),t.R7$(5),t.Lme("Date: ",n.selectedIso," \u2022 Pending fixtures: ",n.totalCount,""),t.R7$(),t.Y8G("ngIf",n.loading),t.R7$(),t.Y8G("ngIf",!n.loading&&0===n.groups.length),t.R7$(),t.Y8G("ngForOf",n.groups))},dependencies:[v.MD,v.Sq,v.bT,v.B3,v.vh,F.iI],styles:[".report-wrap[_ngcontent-%COMP%]{padding:16px}.head[_ngcontent-%COMP%]{display:flex;align-items:baseline;gap:12px;justify-content:space-between;flex-wrap:wrap}.head[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:20px}.head[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{color:#9aa}.muted[_ngcontent-%COMP%]{color:#9aa;padding:8px 0}.controls[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin:8px 0 12px}.controls[_ngcontent-%COMP%]   .dates[_ngcontent-%COMP%]{display:flex;gap:8px;flex-wrap:wrap}.date-btn[_ngcontent-%COMP%]{background:#15203a;color:#cdd;border:1px solid #2a365a;padding:6px 10px;border-radius:999px;cursor:pointer;display:inline-flex;gap:6px;align-items:center;font-weight:700}.date-btn.active[_ngcontent-%COMP%]{outline:2px solid #49a6ff;background:#103054}.date-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}.date-btn[_ngcontent-%COMP%]   .cnt[_ngcontent-%COMP%]{background:#1a274a;color:#9fc;border:1px solid #2d3f6a;padding:0 6px;border-radius:999px;font-size:12px}.date-btn[_ngcontent-%COMP%]   .cnt.zero[_ngcontent-%COMP%]{color:#abc;background:#18243f;border-color:#263555}.print-btn[_ngcontent-%COMP%]{background:#0d8a46;border:1px solid #0a6e38;color:#fff;border-radius:10px;padding:8px 12px;font-weight:800;cursor:pointer}.print-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:default}.spacer[_ngcontent-%COMP%]{flex:1}.sort[_ngcontent-%COMP%]{display:flex;gap:6px;align-items:center;color:#cdd}.sort[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#15203a;color:#cdd;border:1px solid #2a365a;padding:6px 8px;border-radius:8px}.bucket[_ngcontent-%COMP%]{margin:18px 0 28px;background:#0f1320;border:1px solid #1f2640;border-radius:6px}.bucket-head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 12px;border-bottom:1px solid #1f2640}.bucket-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600}.bucket-head[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   .pill[_ngcontent-%COMP%]{display:inline-block;background:#15203a;color:#cfe;border:1px solid #2a365a;padding:4px 10px;border-radius:999px}.bucket-head[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background:#223;color:#ccd;padding:2px 8px;border-radius:999px;font-size:12px}.bucket-body[_ngcontent-%COMP%]{display:flex;flex-direction:column}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:32px 1.2fr 1fr;gap:12px;padding:10px 12px;border-bottom:1px solid #1b2138}.row[_ngcontent-%COMP%]:last-child{border-bottom:none}.meta[_ngcontent-%COMP%]{color:#bcd;font-size:13px}.meta[_ngcontent-%COMP%]   .league[_ngcontent-%COMP%]{color:#9fb;font-size:12px;opacity:.9}.idx[_ngcontent-%COMP%]{width:32px;text-align:right;color:#8aa;font-weight:700;padding-right:4px}.teams[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;justify-content:flex-start}.team[_ngcontent-%COMP%]{background:#18203a;padding:4px 8px;border-radius:4px;color:#dde;font-weight:600}.vs[_ngcontent-%COMP%]{color:#9aa}.only-print[_ngcontent-%COMP%]{display:none}.no-print[_ngcontent-%COMP%]{display:block}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}.only-print[_ngcontent-%COMP%]{display:block!important}.report-wrap[_ngcontent-%COMP%]{padding:0}body[_ngcontent-%COMP%]{background:#fff;color:#000}.bucket[_ngcontent-%COMP%]{background:#fff;border-color:#ccc;page-break-inside:avoid}.bucket-head[_ngcontent-%COMP%]{border-color:#ccc}.row[_ngcontent-%COMP%]{border-color:#eee;grid-template-columns:32px 1.2fr 1fr}.team[_ngcontent-%COMP%]{color:#000;border:1px solid #ddd}}@media (max-width: 720px){.row[_ngcontent-%COMP%]{grid-template-columns:24px 1fr}.teams[_ngcontent-%COMP%]{justify-content:flex-start;margin-top:4px;grid-column:1 / -1}}"]})}}return u})()}}]);